import{l as te,n as ce,k as p,d as k,S as s,U as v,ac as S,m as V,A as Y,Y as f,Z as h,G as I,X as E,ah as y,u as i,F as B,$ as F,aj as z,_ as w,W as ke,ab as Se,ae as me,f as X,e as we,g as Ie,o as Ae,c as J,a4 as P,B as Fe,aJ as Te}from"./framework.BHFJTNmU.js";import{g as je,P as Ne,B as R,a as Oe,b as Je,S as ye,D as fe,R as ge,c as ve,d as be,I as Ee,F as $,e as M,A as Re,f as Ue,C as xe,h as Ke,i as ze,j as Ve,k as Ye,U as De,l as Me,s as Le}from"./theme.DoL8rSG4.js";var ae=[],x=[],He="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function Ge(){var e=document.createElement("style");return e.setAttribute("type","text/css"),e}function Ze(e,a){if(a=a||{},e===void 0)throw new Error(He);var n=a.prepend===!0?"prepend":"append",t=a.container!==void 0?a.container:document.querySelector("head"),l=ae.indexOf(t);l===-1&&(l=ae.push(t)-1,x[l]={});var d;return x[l]!==void 0&&x[l][n]!==void 0?d=x[l][n]:(d=x[l][n]=Ge(),n==="prepend"?t.insertBefore(d,t.childNodes[0]):t.appendChild(d)),e.charCodeAt(0)===65279&&(e=e.substr(1,e.length)),d.styleSheet?d.styleSheet.cssText+=e:d.textContent+=e,d}function ne(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?Object(arguments[a]):{},t=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(n).filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable}))),t.forEach(function(l){qe(e,l,n[l])})}return e}function qe(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function le(e){return typeof e=="object"&&typeof e.name=="string"&&typeof e.theme=="string"&&(typeof e.icon=="object"||typeof e.icon=="function")}function G(e,a,n){return n?te(e.tag,ne({key:a},n,e.attrs),(e.children||[]).map(function(t,l){return G(t,"".concat(a,"-").concat(e.tag,"-").concat(l))})):te(e.tag,ne({key:a},e.attrs),(e.children||[]).map(function(t,l){return G(t,"".concat(a,"-").concat(e.tag,"-").concat(l))}))}function he(e){return je(e)[0]}function pe(e){return e?Array.isArray(e)?e:[e]:[]}var Xe=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,oe=!1,$e=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Xe;ce(function(){oe||(typeof window<"u"&&window.document&&window.document.documentElement&&Ze(a,{prepend:!0}),oe=!0)})},We=["icon","primaryColor","secondaryColor"];function _e(e,a){if(e==null)return{};var n=et(e,a),t,l;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(l=0;l<d.length;l++)t=d[l],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function et(e,a){if(e==null)return{};var n={},t=Object.keys(e),l,d;for(d=0;d<t.length;d++)l=t[d],!(a.indexOf(l)>=0)&&(n[l]=e[l]);return n}function D(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?Object(arguments[a]):{},t=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(n).filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable}))),t.forEach(function(l){tt(e,l,n[l])})}return e}function tt(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}var K={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function at(e){var a=e.primaryColor,n=e.secondaryColor;K.primaryColor=a,K.secondaryColor=n||he(a),K.calculated=!!n}function nt(){return D({},K)}var T=function(a,n){var t=D({},a,n.attrs),l=t.icon,d=t.primaryColor,r=t.secondaryColor,u=_e(t,We),o=K;if(d&&(o={primaryColor:d,secondaryColor:r||he(d)}),$e(),le(l),!le(l))return null;var A=l;return A&&typeof A.icon=="function"&&(A=D({},A,{icon:A.icon(o.primaryColor,o.secondaryColor)})),G(A.icon,"svg-".concat(A.name),D({},u,{"data-icon":A.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"}))};T.props={icon:Object,primaryColor:String,secondaryColor:String,focusable:String};T.inheritAttrs=!1;T.displayName="IconBase";T.getTwoToneColors=nt;T.setTwoToneColors=at;function lt(e,a){return it(e)||dt(e,a)||rt(e,a)||ot()}function ot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rt(e,a){if(e){if(typeof e=="string")return re(e,a);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,a)}}function re(e,a){(a==null||a>e.length)&&(a=e.length);for(var n=0,t=new Array(a);n<a;n++)t[n]=e[n];return t}function dt(e,a){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var t=[],l=!0,d=!1,r,u;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(t.push(r.value),!(a&&t.length===a));l=!0);}catch(o){d=!0,u=o}finally{try{!l&&n.return!=null&&n.return()}finally{if(d)throw u}}return t}}function it(e){if(Array.isArray(e))return e}function Ce(e){var a=pe(e),n=lt(a,2),t=n[0],l=n[1];return T.setTwoToneColors({primaryColor:t,secondaryColor:l})}function st(){var e=T.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}var ut=["class","icon","spin","rotate","tabindex","twoToneColor","onClick"];function ct(e,a){return ft(e)||yt(e,a)||At(e,a)||mt()}function mt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function At(e,a){if(e){if(typeof e=="string")return de(e,a);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(e,a)}}function de(e,a){(a==null||a>e.length)&&(a=e.length);for(var n=0,t=new Array(a);n<a;n++)t[n]=e[n];return t}function yt(e,a){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var t=[],l=!0,d=!1,r,u;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(t.push(r.value),!(a&&t.length===a));l=!0);}catch(o){d=!0,u=o}finally{try{!l&&n.return!=null&&n.return()}finally{if(d)throw u}}return t}}function ft(e){if(Array.isArray(e))return e}function ie(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?Object(arguments[a]):{},t=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(n).filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable}))),t.forEach(function(l){Z(e,l,n[l])})}return e}function Z(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function gt(e,a){if(e==null)return{};var n=vt(e,a),t,l;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(l=0;l<d.length;l++)t=d[l],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function vt(e,a){if(e==null)return{};var n={},t=Object.keys(e),l,d;for(d=0;d<t.length;d++)l=t[d],!(a.indexOf(l)>=0)&&(n[l]=e[l]);return n}Ce("#1890ff");var U=function(a,n){var t,l=ie({},a,n.attrs),d=l.class,r=l.icon,u=l.spin,o=l.rotate,A=l.tabindex,C=l.twoToneColor,m=l.onClick,b=gt(l,ut),g=(t={anticon:!0},Z(t,"anticon-".concat(r.name),!!r.name),Z(t,d,d),t),c=u===""||u||r.name==="loading"?"anticon-spin":"",Q=A;Q===void 0&&m&&(Q=-1,b.tabindex=Q);var j=o?{msTransform:"rotate(".concat(o,"deg)"),transform:"rotate(".concat(o,"deg)")}:void 0,N=pe(C),O=ct(N,2),L=O[0],Be=O[1];return p("span",ie({role:"img","aria-label":r.name},b,{onClick:m,class:g}),[p(T,{class:c,icon:r,primaryColor:L,secondaryColor:Be,style:j},null)])};U.props={spin:Boolean,rotate:Number,icon:Object,twoToneColor:String};U.displayName="AntdIcon";U.inheritAttrs=!1;U.getTwoToneColor=st;U.setTwoToneColor=Ce;function se(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?Object(arguments[a]):{},t=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(n).filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable}))),t.forEach(function(l){bt(e,l,n[l])})}return e}function bt(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}var W=function(a,n){var t=se({},a,n.attrs);return p(U,se({},t,{icon:Ne}),null)};W.displayName="PlusOutlined";W.inheritAttrs=!1;const Et={loading:{type:Boolean,default:!1},title:{type:String,default:""},rowKey:{type:String,default:"id"},dataSource:{type:Array,default:()=>[]},columns:{type:Array,default(){return[]}},pagination:{type:[Object,Boolean]},addCommand:{type:Object,default:()=>{}},customCommands:{type:Array,default:()=>[]},settingCommands:{type:Array,default:()=>[]},getList:{type:Function},customComponents:{type:Object,default:()=>{}},tableTag:{type:String,default:""},emitRegister:{type:Object,default:()=>{}},elementProps:{type:Object,default:()=>{}},extendProps:{type:Object,default:()=>({cacheConfigColumns:!0,showRefresh:!0,showColumnConfig:!0})}},ht=k({__name:"CommandColumn",props:{commands:{type:Array,default:()=>[]},handleEmit:{type:Function,default:()=>{}},record:{type:Object,default:()=>{}},index:{type:Number,default:0}},setup(e){return(a,n)=>(s(!0),v(B,null,S(e.commands,(t,l)=>V((s(),f(i(R),y({key:l,class:"command",type:"link",disabled:t.disableValidator&&t.disableValidator({row:e.record,item:t}),ref_for:!0},t.elementProps,{onClick:d=>e.handleEmit(t.command,{row:e.record,index:e.index,item:t})}),{default:h(()=>[I(E(t.text),1)]),_:2},1040,["disabled","onClick"])),[[Y,!t.visibleValidator||t.visibleValidator({row:e.record,item:t})]])),128))}}),pt=F(ht,[["__scopeId","data-v-1d25ca4e"]]),Ct=k({__name:"StatusColumn",props:{options:{type:Array,default:()=>[]},dataField:{type:String,default:""},record:{type:Object,default:()=>{}}},setup(e){return(a,n)=>e.options.some(t=>t.value===e.record[e.dataField])?(s(),v("span",{key:0,style:z({color:e.options.filter(t=>t.value===e.record[e.dataField])[0].color})},E(e.options.filter(t=>t.value===e.record[e.dataField])[0].label),5)):w("",!0)}}),Qt=F(Ct,[["__scopeId","data-v-e5985d91"]]),Pt=k({__name:"LinkColumn",props:{command:{type:String,default:""},dataField:{type:String,default:""},handleEmit:{type:Function,default:()=>{}},record:{type:Object,default:()=>{}},index:{type:Number,default:0},elementProps:{type:Object,default:()=>{}}},setup(e){return(a,n)=>(s(),f(i(R),{class:ke([e.elementProps.ellipsis?"nowrap-link":"wrap-link","link-class"]),type:"link",onClick:n[0]||(n[0]=t=>e.handleEmit(e.command,{row:e.record,index:e.index}))},{default:h(()=>[I(E(e.record[e.dataField]),1)]),_:1},8,["class"]))}}),Bt=F(Pt,[["__scopeId","data-v-a7ce965a"]]),kt=k({__name:"ImageColumn",props:{dataField:{type:String,default:""},record:{type:Object,default:()=>{}},elementProps:{type:Object,default:()=>({width:50,height:50})}},setup(e){return(a,n)=>{const t=Se("a-image");return s(),f(t,y({src:e.record[e.dataField],fallback:"data:image/png;base64,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"},e.elementProps),null,16,["src"])}}}),St=F(kt,[["__scopeId","data-v-fb6c7478"]]),wt=k({__name:"ComponentColumn",props:{customComponents:{type:Object,default:()=>{}},componentKey:{type:String,default:""},dataField:{type:String,default:""},record:{type:Object,default:()=>{}},handleEmit:{type:Function,default:()=>{}}},setup(e){return(a,n)=>(s(),f(me(e.customComponents[e.componentKey]),{"v-model:component-data":e.record[e.dataField],model:e.record,dataField:e.dataField,handleEmit:e.handleEmit},null,8,["v-model:component-data","model","dataField","handleEmit"]))}}),It=F(wt,[["__scopeId","data-v-93f9f894"]]),_=(e,a,n={})=>{if(Object.keys(e).length===0){console.error("emitRegister中未注册任何事件");return}if(!a){console.error("事件名不能为空");return}const t=e[a];if(!t){console.error(`当前事件【${a}】未在emitRegister中注册`);return}Object.keys(n).length>0?t(n):t()},Qe=Symbol("castor-antdv-i18n"),Ft={"zh-CN":{"common.selectPlaceholder":"请选择","common.inputPlaceholder":"请输入","common.none":"暂无","common.yes":"是","common.no":"否","upload.clickToUploadImage":"点击上传图片","table.total":"共 {total} 条"},"en-US":{"common.selectPlaceholder":"please select","common.inputPlaceholder":"please enter","common.none":"N/A","common.yes":"Yes","common.no":"No","upload.clickToUploadImage":"click to upload image","table.total":"Total {total} items"}},Pe=X("zh-CN");function H(e,a){return e?a?e.replace(/\{(.*?)\}/g,(n,t)=>{const l=a[t];return l==null?"":String(l)}):e:""}function Tt(e,a){e.provide(Qe,{t:a})}function ee(){var l,d,r;const e=we(Qe,null),a=Ie(),n=(r=(d=(l=a==null?void 0:a.appContext)==null?void 0:l.config)==null?void 0:d.globalProperties)==null?void 0:r.$t;return{t:(u,o,A)=>{try{if(e!=null&&e.t){const m=e.t(u,A);if(typeof m=="string"&&m!==u)return m}if(typeof n=="function"){const m=n(u,A);if(typeof m=="string"&&m!==u)return m}}catch{}const C=Ft[Pe.value][u];return H(C||o||u,A)}}}function jt(e){Pe.value=e}const Nt={key:0,class:"table-append-header"},Ot={class:"table-title"},Jt={class:"table-commands"},Rt={inheritAttrs:!1},Ut=k({...Rt,__name:"common-table",props:Et,setup(e){let a=X();Ae(()=>{a.value={getContainer:()=>document.getElementById("comTable")}});const n=e,{t}=ee(),l=(r,u)=>{_(n.emitRegister,r,u)},d=J(()=>n.columns.map(r=>{switch(r.type){case"index":return{title:r.label,customRender:({index:u})=>{const o=n.pagination||!1;return o===!1?`${u+1}`:`${((o.current||1)-1)*(o.pageSize||10)+u+1}`},align:"center",...r.elementProps};case"link":return{title:r.label,customRender:({record:u,index:o})=>p(Bt,{command:(r.extendProps||{}).linkCommand,dataField:r.dataField,handleEmit:l,record:u,index:o,elementProps:r.elementProps},null),...r.elementProps};case"image":return{title:r.label,customRender:({record:u,index:o})=>{var A;return p(St,{dataField:r.dataField,record:u,index:o,elementProps:(A=r.extendProps)==null?void 0:A.subElementProps},null)},...r.elementProps};case"custom":return{title:r.label,customRender:({record:u})=>p(It,{customComponents:n.customComponents,componentKey:(r.extendProps||{}).componentKey,dataField:r.dataField,record:u,handleEmit:l},null),...r.elementProps};case"commands":return{title:r.label,customRender:({record:u,index:o})=>p(pt,{commands:(r.extendProps||{}).commands,handleEmit:l,record:u,index:o},null),...r.elementProps};case"status":return{title:r.label,customRender:({record:u})=>p(Qt,{options:(r.extendProps||{}).options,record:u,dataField:r.dataField},null),...r.elementProps};default:return{title:r.label,dataIndex:r.dataField,...r.elementProps}}}));return(r,u)=>(s(),v(B,null,[r.title||r.addCommand||r.customCommands&&r.customCommands.length?(s(),v("div",Nt,[P("div",Ot,E(r.title||""),1),P("div",Jt,[r.addCommand&&r.addCommand.text&&(!r.addCommand.visibleValidator||r.addCommand.visibleValidator())?(s(),f(i(R),y({key:0,type:"primary",disabled:r.addCommand.disableValidator&&r.addCommand.disableValidator()},r.addCommand.elementProps,{onClick:u[0]||(u[0]=o=>l(r.addCommand.command))}),{icon:h(()=>[p(i(W))]),default:h(()=>[I(" "+E(r.addCommand.text),1)]),_:1},16,["disabled"])):w("",!0),r.customCommands&&r.customCommands.length?(s(),f(i(Oe),{key:1,class:"table-custom-commands"},{default:h(()=>[(s(!0),v(B,null,S(r.customCommands,(o,A)=>V((s(),f(i(R),y({key:A,disabled:o.disableValidator&&o.disableValidator(),ref_for:!0},o.elementProps,{onClick:C=>l(o.command)}),{default:h(()=>[I(E(o.text),1)]),_:2},1040,["disabled","onClick"])),[[Y,!o.visibleValidator||o.visibleValidator()]])),128))]),_:1})):w("",!0)])])):w("",!0),p(i(Je),y({"row-key":r.rowKey,loading:r.loading,dataSource:r.dataSource,columns:d.value,scroll:{x:"100%"},pagination:r.pagination===!1?!1:{showSizeChanger:!0,showTotal:o=>i(t)("table.total",void 0,{total:o}),...r.pagination}},r.elementProps,{sticky:i(a)}),null,16,["row-key","loading","dataSource","columns","pagination","sticky"])],64))}}),xt=F(Ut,[["__scopeId","data-v-7c108cb2"]]),Kt=k({__name:"QueryCtrl",props:{type:{type:String,default:void 0},label:{type:String,default:void 0},defaultModel:{type:Object,default:()=>{}},dataField:{type:String,default:""},width:{type:String,default:void 0},disableValidator:{type:Function,default:void 0},visibleValidator:{type:Function,default:()=>!0},elementProps:{type:Object,default(){return{valueFormat:"yyyy-MM-dd"}}},extendProps:{type:Object,default:()=>({})}},emits:["enterKeyDown"],setup(e,{emit:a}){const n=e,t=a,l=J(()=>n.defaultModel),{t:d}=ee(),r=()=>{t("enterKeyDown")};return(u,o)=>!e.visibleValidator||e.visibleValidator({model:l.value})?(s(),f(i($),y({key:0,label:e.label,name:e.dataField},e.extendProps.formItemProps),{default:h(()=>[e.type==="select"?(s(),f(i(ye),y({key:0,value:l.value[e.dataField],"onUpdate:value":o[0]||(o[0]=A=>l.value[e.dataField]=A),placeholder:i(d)("common.selectPlaceholder"),disabled:e.disableValidator&&e.disableValidator({model:l.value}),"allow-clear":!0},e.elementProps),null,16,["value","placeholder","disabled"])):e.type==="date"?(s(),f(i(fe),y({key:1,value:l.value[e.dataField],"onUpdate:value":o[1]||(o[1]=A=>l.value[e.dataField]=A),placeholder:i(d)("common.selectPlaceholder"),disabled:e.disableValidator&&e.disableValidator({model:l.value}),"allow-clear":!0},e.elementProps),null,16,["value","placeholder","disabled"])):e.type==="dateRange"?(s(),f(i(ge),y({key:2,value:l.value[e.dataField],"onUpdate:value":o[2]||(o[2]=A=>l.value[e.dataField]=A),disabled:e.disableValidator&&e.disableValidator({model:l.value}),"allow-clear":!0},e.elementProps),null,16,["value","disabled"])):e.type==="time"?(s(),f(i(ve),y({key:3,value:l.value[e.dataField],"onUpdate:value":o[3]||(o[3]=A=>l.value[e.dataField]=A),placeholder:i(d)("common.selectPlaceholder"),disabled:e.disableValidator&&e.disableValidator({model:l.value}),"allow-clear":!0},e.elementProps),null,16,["value","placeholder","disabled"])):e.type==="timeRange"?(s(),f(i(be),y({key:4,value:l.value[e.dataField],"onUpdate:value":o[4]||(o[4]=A=>l.value[e.dataField]=A),disabled:e.disableValidator&&e.disableValidator({model:l.value}),"allow-clear":!0},e.elementProps),null,16,["value","disabled"])):(s(),f(i(Ee),y({key:5,value:l.value[e.dataField],"onUpdate:value":o[5]||(o[5]=A=>l.value[e.dataField]=A),placeholder:i(d)("common.inputPlaceholder"),disabled:e.disableValidator&&e.disableValidator({model:l.value})},e.elementProps,{onPressEnter:r}),null,16,["value","placeholder","disabled"]))]),_:1},16,["label","name"])):w("",!0)}}),zt={formId:{type:String,default:"queryForm"},loading:{type:Boolean,default:!1},model:{type:Object,default:()=>{}},fields:{type:Array,default:()=>[]},commands:{type:Array,default:()=>[]},downloadOpt:{type:Object,default:()=>{}},dynamicFieldsPosition:{type:String,default:"end"},maxFieldWidth:{type:Number,default:230},commandsFloat:{type:String,default:"right"},defaultCheckedKeys:{type:Array,default:()=>[]},emitRegister:{type:Object,default:()=>{}},elementProps:{type:Object,default:()=>{}}},Vt={inheritAttrs:!1},Yt=k({...Vt,__name:"common-query",props:zt,setup(e){const a=e,{resetFields:n}=M.useForm(a.model,void 0),t=J(()=>a.emitRegister);t.value.resetFields=n;const l=(r,u)=>{_(a.emitRegister,r,u)},d=()=>{a.commands.filter(u=>u.canKeyDown).map(u=>{l(u.command)})};return(r,u)=>(s(),f(i(M),y({ref:"formRef",model:r.model,layout:"inline"},r.elementProps),{default:h(()=>[(s(!0),v(B,null,S(r.fields,(o,A)=>(s(),f(Kt,y({key:A,"default-model":r.model,ref_for:!0},o,{onEnterKeyDown:d}),null,16,["default-model"]))),128)),p(i($),null,{default:h(()=>[(s(!0),v(B,null,S(r.commands,(o,A)=>V((s(),f(i(R),y({key:A,class:"command",disabled:o.disableValidator&&o.disableValidator(),ref_for:!0},o.elementProps,{onClick:C=>l(o.command)}),{default:h(()=>[I(E(o.text),1)]),_:2},1040,["disabled","onClick"])),[[Y,!o.visibleValidator||o.visibleValidator()]])),128))]),_:1})]),_:1},16,["model"]))}}),Dt=F(Yt,[["__scopeId","data-v-1e8fdc23"]]),Mt={style:{float:"left"}},Lt={style:{"margin-left":"36px","font-size":"14px",color:"#999","font-weight":"normal"}},Ht={key:0,style:{float:"right"}},Gt={class:"ant-upload-wrapper"},Zt=["src"],qt="data:image/png;base64,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",ue=k({__name:"FormCtrl",props:{type:{type:String,default:"default"},label:{type:String,default:void 0},layout:{type:String,default:"horizontal"},operateType:{type:String,default:"add"},defaultModel:{type:Object,default:()=>{}},dataField:{type:String,default:""},rules:{type:Array,default:()=>null},width:{type:String,default:void 0},disableValidator:{type:Function,default:void 0},visibleValidator:{type:Function,default:()=>!0},customComponents:{type:Object,default:()=>{}},elementProps:{type:Object,default:()=>{}},extendProps:{type:Object,default:()=>{}},handleEmit:{type:Function,default:()=>{}},validateInfos:{type:Object,default:()=>{}},validate:{type:Function,default:void 0}},emits:["blur"],setup(e,{emit:a}){const n=e,t=J(()=>n.defaultModel),{t:l}=ee(),d=J(()=>n.operateType==="view"||n.disableValidator&&n.disableValidator({model:n.defaultModel,operateType:n.operateType})),r=u=>{console.log("FormCtrl handleBlur for field:",u),n.validate?(console.log("validate function exists"),n.validate(u,{trigger:"blur"}).catch(()=>{})):console.log("validate function does not exist")};return(u,o)=>{var A;return e.type==="space"?(s(),v("div",{key:0,class:"form-item-space",style:z({float:"left",width:"calc(100% + 28px)",height:"12px",margin:"0 -16px 0 -12px",background:"#f0f2f5",...e.elementProps.style})},null,4)):!e.visibleValidator||e.visibleValidator({model:t.value,operateType:e.operateType})?(s(),f(i($),y({key:1,label:e.label,name:e.dataField,rules:e.rules},{...e.extendProps.formItemProps,...e.validateInfos[e.dataField]},{style:{float:"left",width:`calc(${e.width} - ${e.layout==="vertical"?"16px":"0px"})`,marginLeft:`${e.layout==="vertical"?"8px":"0"}`,marginRight:`${e.layout==="vertical"?"8px":"0"}`,marginBottom:["groupTitle","custom","space"].includes(e.type)||(A=e.validateInfos[e.dataField])!=null&&A.help?"0":"inherit",...e.extendProps.formItemStyle}}),{default:h(()=>{var C,m,b,g;return[["default","inputNumber","date","textArea","select","radioGroup","switch","checkboxGroup"].includes(e.type)&&e.operateType==="view"?(s(),v(B,{key:0},[["select","radioGroup"].includes(e.type)?(s(),v("span",y({key:0},e.elementProps,{style:{width:"100%",whiteSpace:"pre-line",...e.elementProps.style}}),E(((e.elementProps.options||[]).filter(c=>c.value===t.value[e.dataField])[0]||{}).label||i(l)("common.none")),17)):["switch"].includes(e.type)?(s(),v("span",y({key:1},e.elementProps,{style:{width:"100%",whiteSpace:"pre-line",...e.elementProps.style}}),E(t.value[e.dataField]===null||t.value[e.dataField]===void 0?i(l)("common.none"):t.value[e.dataField]?i(l)("common.yes"):i(l)("common.no")),17)):["checkboxGroup"].includes(e.type)?(s(),v("span",y({key:2},e.elementProps,{style:{width:"100%",whiteSpace:"pre-line",...e.elementProps.style}}),E(((e.elementProps.options||[]).filter(c=>t.value[e.dataField].includes(c.value))||[]).map(c=>c.label).join(" , ")||i(l)("common.none")),17)):(s(),v("span",y({key:3},e.elementProps,{style:{width:"100%",whiteSpace:"pre-line",...e.elementProps.style}}),E(`${t.value[e.dataField]||((C=e.elementProps)!=null&&C.suffix?" - ":i(l)("common.none"))}${((m=e.elementProps)==null?void 0:m.suffix)||""}`),17))],64)):e.type==="select"?(s(),f(i(ye),y({key:1,value:t.value[e.dataField],"onUpdate:value":o[0]||(o[0]=c=>t.value[e.dataField]=c),placeholder:i(l)("common.selectPlaceholder"),disabled:d.value},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),null,16,["value","placeholder","disabled","style"])):e.type==="autocomplete"?(s(),f(i(Re),y({key:2,value:t.value[e.dataField],"onUpdate:value":o[1]||(o[1]=c=>t.value[e.dataField]=c),placeholder:i(l)("common.selectPlaceholder"),disabled:d.value},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),null,16,["value","placeholder","disabled","style"])):e.type==="date"?(s(),f(i(fe),y({key:3,value:t.value[e.dataField],"onUpdate:value":o[2]||(o[2]=c=>t.value[e.dataField]=c),placeholder:i(l)("common.selectPlaceholder"),disabled:d.value},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),null,16,["value","placeholder","disabled","style"])):e.type==="dateRange"?(s(),f(i(ge),y({key:4,value:t.value[e.dataField],"onUpdate:value":o[3]||(o[3]=c=>t.value[e.dataField]=c),disabled:d.value},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),null,16,["value","disabled","style"])):e.type==="time"?(s(),f(i(ve),y({key:5,value:t.value[e.dataField],"onUpdate:value":o[4]||(o[4]=c=>t.value[e.dataField]=c),placeholder:"请选择",disabled:d.value},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),null,16,["value","disabled","style"])):e.type==="timeRange"?(s(),f(i(be),y({key:6,value:t.value[e.dataField],"onUpdate:value":o[5]||(o[5]=c=>t.value[e.dataField]=c),disabled:d.value},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),null,16,["value","disabled","style"])):e.type==="text"?(s(),v("span",y({key:7},e.elementProps,{style:{width:"100%",whiteSpace:"pre-line",...e.elementProps.style}}),E(`${t.value[e.dataField]||((b=e.elementProps)!=null&&b.suffix?" - ":i(l)("common.none"))}${((g=e.elementProps)==null?void 0:g.suffix)||""}`),17)):e.type==="textArea"?(s(),f(i(Ue),y({key:8,value:t.value[e.dataField],"onUpdate:value":o[6]||(o[6]=c=>t.value[e.dataField]=c),disabled:d.value,placeholder:i(l)("common.inputPlaceholder")},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),null,16,["value","disabled","placeholder","style"])):e.type==="groupTitle"?(s(),v("div",y({key:9},e.elementProps,{style:{overflow:"hidden",width:"100%",fontSize:"16px",fontWeight:"bold",...e.elementProps.style}}),[P("div",Mt,[I(E(e.extendProps.groupTitle)+" ",1),P("span",Lt,E(e.extendProps.subTitle),1)]),e.extendProps.groupCommands?(s(),v("div",Ht,[(s(!0),v(B,null,S(e.extendProps.groupCommands,(c,Q)=>V((s(),f(i(R),y({key:Q,type:"link",disabled:c.disableValidator&&c.disableValidator({model:t.value,operateType:e.operateType}),ref_for:!0},c.elementProps,{onClick:Fe(j=>e.handleEmit(c.command),["stop"])}),{default:h(()=>[I(E(c.text),1)]),_:2},1040,["disabled","onClick"])),[[Y,!c.visibleValidator||c.visibleValidator({model:t.value,operateType:e.operateType})]])),128))])):w("",!0)],16)):e.type==="checkboxGroup"?(s(),f(i(xe),y({key:10,value:t.value[e.dataField],"onUpdate:value":o[7]||(o[7]=c=>t.value[e.dataField]=c),disabled:d.value},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),null,16,["value","disabled","style"])):e.type==="radioGroup"?(s(),f(i(Ke),y({key:11,value:t.value[e.dataField],"onUpdate:value":o[8]||(o[8]=c=>t.value[e.dataField]=c),disabled:d.value},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),null,16,["value","disabled","style"])):e.type==="custom"&&e.extendProps.componentKey?(s(),f(me(e.customComponents[e.extendProps.componentKey]),y({key:12,"component-data":t.value[e.dataField],"onUpdate:componentData":o[9]||(o[9]=c=>t.value[e.dataField]=c),model:t.value,"operate-type":e.operateType},e.elementProps),null,16,["component-data","model","operate-type"])):e.type==="status"?(s(),v("span",y({key:13},e.elementProps,{style:{width:"100%",...e.elementProps.style,color:((e.extendProps.statusOptions||[]).filter(c=>c.value===t.value[e.dataField])[0]||{}).color}}),E(((e.extendProps.statusOptions||[]).filter(c=>c.value===t.value[e.dataField])[0]||{}).label),17)):e.type==="inputNumber"?(s(),f(i(ze),y({key:14,value:t.value[e.dataField],"onUpdate:value":o[10]||(o[10]=c=>t.value[e.dataField]=c),disabled:d.value,placeholder:"请输入"},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),null,16,["value","disabled","style"])):e.type==="switch"?(s(),f(i(Ve),y({key:15,checked:t.value[e.dataField],"onUpdate:checked":o[11]||(o[11]=c=>t.value[e.dataField]=c),disabled:d.value},e.elementProps,{style:e.elementProps.style}),null,16,["checked","disabled","style"])):e.type==="image"?(s(),f(i(Ye),{key:16,placement:"bottom",title:d.value?"":i(l)("upload.clickToUploadImage")},{default:h(()=>[p(i(De),y({showUploadList:!1,disabled:d.value},e.elementProps),{default:h(()=>{var c,Q,j,N,O;return[P("div",Gt,[P("img",{src:t.value[e.dataField]||qt,style:z({width:((Q=(c=e.extendProps)==null?void 0:c.imageOptions)==null?void 0:Q.width)||"100px",height:((j=e.extendProps.imageOptions)==null?void 0:j.height)||"100px",borderRadius:((N=e.extendProps.imageOptions)==null?void 0:N.radius)||"50%",objectFit:"cover",cursor:d.value?"default":"pointer",...(O=e.extendProps.imageOptions)==null?void 0:O.style})},null,12,Zt)])]}),_:1},16,["disabled"])]),_:1},8,["title"])):(s(),f(i(Ee),y({key:17,value:t.value[e.dataField],"onUpdate:value":o[12]||(o[12]=c=>t.value[e.dataField]=c),disabled:e.operateType==="view"||e.disableValidator&&e.disableValidator({model:t.value,operateType:e.operateType}),placeholder:i(l)("common.inputPlaceholder")},e.elementProps,{style:{width:"100%",...e.elementProps.style},onBlur:o[13]||(o[13]=()=>r(e.dataField))}),Te({_:2},[e.extendProps&&e.extendProps.beforeText?{name:"addonBefore",fn:h(()=>[P("span",null,E(e.extendProps.beforeText),1)]),key:"0"}:void 0]),1040,["value","disabled","placeholder","style"]))]}),_:1},16,["label","name","rules","style"])):w("",!0)}}}),Xt={loading:{type:Boolean,default:!1},model:{type:Object,default:()=>{}},fields:{type:Array,default:()=>[]},commands:{type:Array,default:()=>[]},customCommands:{type:Array,default:()=>[]},rowFieldsCount:{type:Number,default:2},rowHeight:{type:Number,default:36},operateType:{type:String,default:"add"},customComponents:{type:Object,default:()=>{}},elementProps:{type:Object,default:()=>{}},extendProps:{type:Object,default:()=>{}},emitRegister:{type:Object,default:()=>{}},customValidators:{type:Array,default:()=>[]}},$t={id:"common-form",style:{overflow:"hidden"}},Wt={class:"status",style:{overflow:"hidden"}},_t={class:"commands"},ea={inheritAttrs:!1},ta=k({...ea,__name:"common-form",props:Xt,setup(e){const a=e,n=J(()=>{if(a.elementProps.rules)return a.elementProps.rules;{const m={};return a.fields.forEach(b=>{b.rules&&(!b.visibleValidator||b.visibleValidator({model:a.model,operateType:a.operateType}))&&(m[b.dataField]=b.rules)}),m}}),{resetFields:t,validate:l,clearValidate:d,validateInfos:r}=M.useForm(a.model,n),u=X(),o=J(()=>a.emitRegister);var A=function(b){const g=`form_item_${b}`,c=document.querySelector("#common-form"),Q=c==null?void 0:c.querySelector(`#${g}`);Q&&Le(Q,{behavior:j=>j.forEach(({el:N,top:O,left:L})=>{N.scrollTop=O-30,N.scrollLeft=L}),scrollMode:"if-needed",block:"start"})};ce(()=>{var m,b;o.value.scrollToField=(m=u==null?void 0:u.value)==null?void 0:m.scrollToField,o.value.handleFinishFailed=(b=u==null?void 0:u.value)==null?void 0:b.handleFinishFailed}),o.value.validate=()=>new Promise((m,b)=>{try{l().then(()=>{m(!0)})}catch(g){A(g.errorFields[0].name),b(!1)}}),o.value.clearValidate=d,o.value.resetFields=t,Ae(()=>{var m;o.value.validateFields=(m=u==null?void 0:u.value)==null?void 0:m.validateFields});const C=(m,b)=>{_(a.emitRegister,m,b)};return(m,b)=>(s(),v(B,null,[P("div",{class:"content",style:z((m.extendProps||{}).contentStyle)},[p(i(Me),{spinning:m.loading},{default:h(()=>[P("div",$t,[p(i(M),y({ref_key:"formRef",ref:u,model:m.model},m.elementProps,{class:"common-form-container",style:{padding:"0 16px 0 12px",...m.elementProps.style},scrollToFirstError:!0}),{default:h(()=>[(s(!0),v(B,null,S(m.fields.filter(g=>(g.extendProps||{}).showInFooter!==!0),(g,c)=>(s(),f(ue,y({key:c,"operate-type":m.operateType,"default-model":m.model,width:100/m.rowFieldsCount*(g.columnSpan||1)+"%",layout:m.elementProps.layout||"horizontal",customComponents:m.customComponents,handleEmit:C,validateInfos:i(r),validate:i(l),ref_for:!0},g,{"element-props":g.elementProps||{},"extend-props":g.extendProps||{}}),null,16,["operate-type","default-model","width","layout","customComponents","validateInfos","validate","element-props","extend-props"]))),128))]),_:1},16,["model","style"])])]),_:1},8,["spinning"])],4),m.commands&&m.commands.length&&m.commands.some(g=>!g.visibleValidator||g.visibleValidator({model:m.model,operateType:m.operateType}))?(s(),v("div",{key:0,class:"footer",style:z({background:"white",...(m.extendProps||{}).footerStyle})},[P("div",Wt,[(s(!0),v(B,null,S(m.fields.filter(g=>(g.extendProps||{}).showInFooter===!0),(g,c)=>(s(),f(ue,y({key:c,"operate-type":m.operateType,"default-model":m.model,width:100/m.rowFieldsCount*(g.columnSpan||1)+"%",layout:m.elementProps.layout||"horizontal",customComponents:m.customComponents,handleEmit:C,validateInfos:i(r),validate:i(l),ref_for:!0},g,{"element-props":g.elementProps||{},"extend-props":g.extendProps||{}}),null,16,["operate-type","default-model","width","layout","customComponents","validateInfos","validate","element-props","extend-props"]))),128))]),P("div",_t,[(s(!0),v(B,null,S(m.commands,(g,c)=>V((s(),f(i(R),y({key:c,class:"command",loading:g.loading,disabled:g.disableValidator&&g.disableValidator.call({model:m.model,operateType:m.operateType}),ref_for:!0},g.elementProps,{onClick:Q=>C(g.command,{command:g})}),{default:h(()=>[I(E(g.text),1)]),_:2},1040,["loading","disabled","onClick"])),[[Y,!g.visibleValidator||g.visibleValidator({model:m.model,operateType:m.operateType})]])),128))])],4)):w("",!0)],64))}}),aa=F(ta,[["__scopeId","data-v-710b6b51"]]),q={CaCommonTable:xt,CaCommonQuery:Dt,CaCommonForm:aa},na=(e,a)=>{if(Object.keys(q).forEach(n=>{e.component(n,q[n])}),a!=null&&a.i18n){const{t:n,locale:t}=a.i18n;n&&Tt(e,n),t&&jt(t)}},ra={version:"1.0.0",install:na,...q};export{aa as CaCommonForm,Dt as CaCommonQuery,xt as CaCommonTable,Qe as I18N_KEY,ra as default,Tt as provideI18n,jt as setCastorAntdvLocale,ee as useI18n};
