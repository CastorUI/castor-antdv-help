import{l as W,n as ie,k as C,d as B,S as i,U as g,ac as w,m as K,A as U,Y as A,Z as E,G as I,X as b,ah as m,u as c,F as P,$ as F,aj as x,_ as S,W as he,ab as se,ae as ue,f as me,o as ce,c as T,a4 as h,B as Pe,aJ as Be}from"./framework.B0zGB0ni.js";import{g as ke,P as we,B as N,a as Se,b as Ie,S as Ae,D as ye,R as fe,c as ge,d as ve,I as be,F as q,e as M,A as Fe,f as je,C as Te,h as Ne,i as Oe,j as Je,k as Re,U as xe,s as Ke}from"./theme.CcFJ2AJh.js";var _=[],J=[],Ue="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function ze(){var e=document.createElement("style");return e.setAttribute("type","text/css"),e}function Ve(e,a){if(a=a||{},e===void 0)throw new Error(Ue);var t=a.prepend===!0?"prepend":"append",l=a.container!==void 0?a.container:document.querySelector("head"),o=_.indexOf(l);o===-1&&(o=_.push(l)-1,J[o]={});var n;return J[o]!==void 0&&J[o][t]!==void 0?n=J[o][t]:(n=J[o][t]=ze(),t==="prepend"?l.insertBefore(n,l.childNodes[0]):l.appendChild(n)),e.charCodeAt(0)===65279&&(e=e.substr(1,e.length)),n.styleSheet?n.styleSheet.cssText+=e:n.textContent+=e,n}function ee(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?Object(arguments[a]):{},l=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),l.forEach(function(o){Ye(e,o,t[o])})}return e}function Ye(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function te(e){return typeof e=="object"&&typeof e.name=="string"&&typeof e.theme=="string"&&(typeof e.icon=="object"||typeof e.icon=="function")}function H(e,a,t){return t?W(e.tag,ee({key:a},t,e.attrs),(e.children||[]).map(function(l,o){return H(l,"".concat(a,"-").concat(e.tag,"-").concat(o))})):W(e.tag,ee({key:a},e.attrs),(e.children||[]).map(function(l,o){return H(l,"".concat(a,"-").concat(e.tag,"-").concat(o))}))}function Ee(e){return ke(e)[0]}function Qe(e){return e?Array.isArray(e)?e:[e]:[]}var De=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,ae=!1,Me=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:De;ie(function(){ae||(typeof window<"u"&&window.document&&window.document.documentElement&&Ve(a,{prepend:!0}),ae=!0)})},Le=["icon","primaryColor","secondaryColor"];function He(e,a){if(e==null)return{};var t=Ge(e,a),l,o;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)l=n[o],!(a.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(e,l)&&(t[l]=e[l])}return t}function Ge(e,a){if(e==null)return{};var t={},l=Object.keys(e),o,n;for(n=0;n<l.length;n++)o=l[n],!(a.indexOf(o)>=0)&&(t[o]=e[o]);return t}function D(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?Object(arguments[a]):{},l=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),l.forEach(function(o){Ze(e,o,t[o])})}return e}function Ze(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var R={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function qe(e){var a=e.primaryColor,t=e.secondaryColor;R.primaryColor=a,R.secondaryColor=t||Ee(a),R.calculated=!!t}function Xe(){return D({},R)}var j=function(a,t){var l=D({},a,t.attrs),o=l.icon,n=l.primaryColor,u=l.secondaryColor,d=He(l,Le),s=R;if(n&&(s={primaryColor:n,secondaryColor:u||Ee(n)}),Me(),te(o),!te(o))return null;var v=o;return v&&typeof v.icon=="function"&&(v=D({},v,{icon:v.icon(s.primaryColor,s.secondaryColor)})),H(v.icon,"svg-".concat(v.name),D({},d,{"data-icon":v.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"}))};j.props={icon:Object,primaryColor:String,secondaryColor:String,focusable:String};j.inheritAttrs=!1;j.displayName="IconBase";j.getTwoToneColors=Xe;j.setTwoToneColors=qe;function $e(e,a){return tt(e)||et(e,a)||_e(e,a)||We()}function We(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _e(e,a){if(e){if(typeof e=="string")return ne(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ne(e,a)}}function ne(e,a){(a==null||a>e.length)&&(a=e.length);for(var t=0,l=new Array(a);t<a;t++)l[t]=e[t];return l}function et(e,a){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var l=[],o=!0,n=!1,u,d;try{for(t=t.call(e);!(o=(u=t.next()).done)&&(l.push(u.value),!(a&&l.length===a));o=!0);}catch(s){n=!0,d=s}finally{try{!o&&t.return!=null&&t.return()}finally{if(n)throw d}}return l}}function tt(e){if(Array.isArray(e))return e}function Ce(e){var a=Qe(e),t=$e(a,2),l=t[0],o=t[1];return j.setTwoToneColors({primaryColor:l,secondaryColor:o})}function at(){var e=j.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}var nt=["class","icon","spin","rotate","tabindex","twoToneColor","onClick"];function lt(e,a){return it(e)||dt(e,a)||rt(e,a)||ot()}function ot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rt(e,a){if(e){if(typeof e=="string")return le(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return le(e,a)}}function le(e,a){(a==null||a>e.length)&&(a=e.length);for(var t=0,l=new Array(a);t<a;t++)l[t]=e[t];return l}function dt(e,a){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var l=[],o=!0,n=!1,u,d;try{for(t=t.call(e);!(o=(u=t.next()).done)&&(l.push(u.value),!(a&&l.length===a));o=!0);}catch(s){n=!0,d=s}finally{try{!o&&t.return!=null&&t.return()}finally{if(n)throw d}}return l}}function it(e){if(Array.isArray(e))return e}function oe(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?Object(arguments[a]):{},l=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),l.forEach(function(o){G(e,o,t[o])})}return e}function G(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function st(e,a){if(e==null)return{};var t=ut(e,a),l,o;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)l=n[o],!(a.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(e,l)&&(t[l]=e[l])}return t}function ut(e,a){if(e==null)return{};var t={},l=Object.keys(e),o,n;for(n=0;n<l.length;n++)o=l[n],!(a.indexOf(o)>=0)&&(t[o]=e[o]);return t}Ce("#1890ff");var O=function(a,t){var l,o=oe({},a,t.attrs),n=o.class,u=o.icon,d=o.spin,s=o.rotate,v=o.tabindex,k=o.twoToneColor,r=o.onClick,f=st(o,nt),p=(l={anticon:!0},G(l,"anticon-".concat(u.name),!!u.name),G(l,n,n),l),y=d===""||d||u.name==="loading"?"anticon-spin":"",Q=v;Q===void 0&&r&&(Q=-1,f.tabindex=Q);var z=s?{msTransform:"rotate(".concat(s,"deg)"),transform:"rotate(".concat(s,"deg)")}:void 0,V=Qe(k),Y=lt(V,2),L=Y[0],pe=Y[1];return C("span",oe({role:"img","aria-label":u.name},f,{onClick:r,class:p}),[C(j,{class:y,icon:u,primaryColor:L,secondaryColor:pe,style:z},null)])};O.props={spin:Boolean,rotate:Number,icon:Object,twoToneColor:String};O.displayName="AntdIcon";O.inheritAttrs=!1;O.getTwoToneColor=at;O.setTwoToneColor=Ce;function re(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?Object(arguments[a]):{},l=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),l.forEach(function(o){mt(e,o,t[o])})}return e}function mt(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var X=function(a,t){var l=re({},a,t.attrs);return C(O,re({},l,{icon:we}),null)};X.displayName="PlusOutlined";X.inheritAttrs=!1;const ct={loading:{type:Boolean,default:!1},title:{type:String,default:""},rowKey:{type:String,default:"id"},dataSource:{type:Array,default:()=>[]},columns:{type:Array,default(){return[]}},pagination:{type:[Object,Boolean]},addCommand:{type:Object,default:()=>{}},customCommands:{type:Array,default:()=>[]},settingCommands:{type:Array,default:()=>[]},getList:{type:Function},customComponents:{type:Object,default:()=>{}},tableTag:{type:String,default:""},emitRegister:{type:Object,default:()=>{}},elementProps:{type:Object,default:()=>{}},extendProps:{type:Object,default:()=>({cacheConfigColumns:!0,showRefresh:!0,showColumnConfig:!0})}},At=B({__name:"CommandColumn",props:{commands:{type:Array,default:()=>[]},handleEmit:{type:Function,default:()=>{}},record:{type:Object,default:()=>{}},index:{type:Number,default:0}},setup(e){return(a,t)=>(i(!0),g(P,null,w(e.commands,(l,o)=>K((i(),A(c(N),m({key:o,class:"command",type:"link",disabled:l.disableValidator&&l.disableValidator({row:e.record,item:l}),ref_for:!0},l.elementProps,{onClick:n=>e.handleEmit(l.command,{row:e.record,index:e.index,item:l})}),{default:E(()=>[I(b(l.text),1)]),_:2},1040,["disabled","onClick"])),[[U,!l.visibleValidator||l.visibleValidator({row:e.record,item:l})]])),128))}}),yt=F(At,[["__scopeId","data-v-1d25ca4e"]]),ft=B({__name:"StatusColumn",props:{options:{type:Array,default:()=>[]},dataField:{type:String,default:""},record:{type:Object,default:()=>{}}},setup(e){return(a,t)=>e.options.some(l=>l.value===e.record[e.dataField])?(i(),g("span",{key:0,style:x({color:e.options.filter(l=>l.value===e.record[e.dataField])[0].color})},b(e.options.filter(l=>l.value===e.record[e.dataField])[0].label),5)):S("",!0)}}),gt=F(ft,[["__scopeId","data-v-e5985d91"]]),vt=B({__name:"LinkColumn",props:{command:{type:String,default:""},dataField:{type:String,default:""},handleEmit:{type:Function,default:()=>{}},record:{type:Object,default:()=>{}},index:{type:Number,default:0},elementProps:{type:Object,default:()=>{}}},setup(e){return(a,t)=>(i(),A(c(N),{class:he([e.elementProps.ellipsis?"nowrap-link":"wrap-link","link-class"]),type:"link",onClick:t[0]||(t[0]=l=>e.handleEmit(e.command,{row:e.record,index:e.index}))},{default:E(()=>[I(b(e.record[e.dataField]),1)]),_:1},8,["class"]))}}),bt=F(vt,[["__scopeId","data-v-a7ce965a"]]),Et=B({__name:"ImageColumn",props:{dataField:{type:String,default:""},record:{type:Object,default:()=>{}},elementProps:{type:Object,default:()=>({width:50,height:50})}},setup(e){return(a,t)=>{const l=se("a-image");return i(),A(l,m({src:e.record[e.dataField],fallback:"data:image/png;base64,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"},e.elementProps),null,16,["src"])}}}),Qt=F(Et,[["__scopeId","data-v-fb6c7478"]]),Ct=B({__name:"ComponentColumn",props:{customComponents:{type:Object,default:()=>{}},componentKey:{type:String,default:""},dataField:{type:String,default:""},record:{type:Object,default:()=>{}},handleEmit:{type:Function,default:()=>{}}},setup(e){return(a,t)=>(i(),A(ue(e.customComponents[e.componentKey]),{"v-model:component-data":e.record[e.dataField],model:e.record,dataField:e.dataField,handleEmit:e.handleEmit},null,8,["v-model:component-data","model","dataField","handleEmit"]))}}),pt=F(Ct,[["__scopeId","data-v-93f9f894"]]),$=(e,a,t={})=>{if(Object.keys(e).length===0){console.error("emitRegister中未注册任何事件");return}if(!a){console.error("事件名不能为空");return}const l=e[a];if(!l){console.error(`当前事件【${a}】未在emitRegister中注册`);return}Object.keys(t).length>0?l(t):l()},ht={key:0,class:"table-append-header"},Pt={class:"table-title"},Bt={class:"table-commands"},kt={inheritAttrs:!1},wt=B({...kt,__name:"common-table",props:ct,setup(e){let a=me();ce(()=>{a.value={getContainer:()=>document.getElementById("comTable")}});const t=e,l=(n,u)=>{$(t.emitRegister,n,u)},o=T(()=>t.columns.map(n=>{switch(n.type){case"index":return{title:n.label,customRender:({index:u})=>{const d=t.pagination||!1;return d===!1?`${u+1}`:`${((d.current||1)-1)*(d.pageSize||10)+u+1}`},align:"center",...n.elementProps};case"link":return{title:n.label,customRender:({record:u,index:d})=>C(bt,{command:(n.extendProps||{}).linkCommand,dataField:n.dataField,handleEmit:l,record:u,index:d,elementProps:n.elementProps},null),...n.elementProps};case"image":return{title:n.label,customRender:({record:u,index:d})=>{var s;return C(Qt,{dataField:n.dataField,record:u,index:d,elementProps:(s=n.extendProps)==null?void 0:s.subElementProps},null)},...n.elementProps};case"custom":return{title:n.label,customRender:({record:u})=>C(pt,{customComponents:t.customComponents,componentKey:(n.extendProps||{}).componentKey,dataField:n.dataField,record:u,handleEmit:l},null),...n.elementProps};case"commands":return{title:n.label,customRender:({record:u,index:d})=>C(yt,{commands:(n.extendProps||{}).commands,handleEmit:l,record:u,index:d},null),...n.elementProps};case"status":return{title:n.label,customRender:({record:u})=>C(gt,{options:(n.extendProps||{}).options,record:u,dataField:n.dataField},null),...n.elementProps};default:return{title:n.label,dataIndex:n.dataField,...n.elementProps}}}));return(n,u)=>(i(),g(P,null,[n.title||n.addCommand||n.customCommands&&n.customCommands.length?(i(),g("div",ht,[h("div",Pt,b(n.title||""),1),h("div",Bt,[n.addCommand&&n.addCommand.text&&(!n.addCommand.visibleValidator||n.addCommand.visibleValidator())?(i(),A(c(N),m({key:0,type:"primary",disabled:n.addCommand.disableValidator&&n.addCommand.disableValidator()},n.addCommand.elementProps,{onClick:u[0]||(u[0]=d=>l(n.addCommand.command))}),{icon:E(()=>[C(c(X))]),default:E(()=>[I(" "+b(n.addCommand.text),1)]),_:1},16,["disabled"])):S("",!0),n.customCommands&&n.customCommands.length?(i(),A(c(Se),{key:1,class:"table-custom-commands"},{default:E(()=>[(i(!0),g(P,null,w(n.customCommands,(d,s)=>K((i(),A(c(N),m({key:s,disabled:d.disableValidator&&d.disableValidator(),ref_for:!0},d.elementProps,{onClick:v=>l(d.command)}),{default:E(()=>[I(b(d.text),1)]),_:2},1040,["disabled","onClick"])),[[U,!d.visibleValidator||d.visibleValidator()]])),128))]),_:1})):S("",!0)])])):S("",!0),C(c(Ie),m({"row-key":n.rowKey,loading:n.loading,dataSource:n.dataSource,columns:o.value,scroll:{x:"100%"},pagination:n.pagination===!1?!1:{showSizeChanger:!0,showTotal:d=>`共 ${d} 条`,...n.pagination}},n.elementProps,{sticky:c(a)}),null,16,["row-key","loading","dataSource","columns","pagination","sticky"])],64))}}),St=F(wt,[["__scopeId","data-v-971c774b"]]),It=B({__name:"QueryCtrl",props:{type:{type:String,default:void 0},label:{type:String,default:void 0},defaultModel:{type:Object,default:()=>{}},dataField:{type:String,default:""},width:{type:String,default:void 0},disableValidator:{type:Function,default:void 0},visibleValidator:{type:Function,default:()=>!0},elementProps:{type:Object,default(){return{valueFormat:"yyyy-MM-dd"}}},extendProps:{type:Object,default:()=>({})}},emits:["enterKeyDown"],setup(e,{emit:a}){const t=e,l=a,o=T(()=>t.defaultModel),n=()=>{l("enterKeyDown")};return(u,d)=>!e.visibleValidator||e.visibleValidator({model:o.value})?(i(),A(c(q),m({key:0,label:e.label,name:e.dataField},e.extendProps.formItemProps),{default:E(()=>[e.type==="select"?(i(),A(c(Ae),m({key:0,value:o.value[e.dataField],"onUpdate:value":d[0]||(d[0]=s=>o.value[e.dataField]=s),placeholder:"请选择",disabled:e.disableValidator&&e.disableValidator({model:o.value}),"allow-clear":!0},e.elementProps),null,16,["value","disabled"])):e.type==="date"?(i(),A(c(ye),m({key:1,value:o.value[e.dataField],"onUpdate:value":d[1]||(d[1]=s=>o.value[e.dataField]=s),placeholder:"请选择",disabled:e.disableValidator&&e.disableValidator({model:o.value}),"allow-clear":!0},e.elementProps),null,16,["value","disabled"])):e.type==="dateRange"?(i(),A(c(fe),m({key:2,value:o.value[e.dataField],"onUpdate:value":d[2]||(d[2]=s=>o.value[e.dataField]=s),disabled:e.disableValidator&&e.disableValidator({model:o.value}),"allow-clear":!0},e.elementProps),null,16,["value","disabled"])):e.type==="time"?(i(),A(c(ge),m({key:3,value:o.value[e.dataField],"onUpdate:value":d[3]||(d[3]=s=>o.value[e.dataField]=s),placeholder:"请选择",disabled:e.disableValidator&&e.disableValidator({model:o.value}),"allow-clear":!0},e.elementProps),null,16,["value","disabled"])):e.type==="timeRange"?(i(),A(c(ve),m({key:4,value:o.value[e.dataField],"onUpdate:value":d[4]||(d[4]=s=>o.value[e.dataField]=s),disabled:e.disableValidator&&e.disableValidator({model:o.value}),"allow-clear":!0},e.elementProps),null,16,["value","disabled"])):(i(),A(c(be),m({key:5,value:o.value[e.dataField],"onUpdate:value":d[5]||(d[5]=s=>o.value[e.dataField]=s),placeholder:"请输入",disabled:e.disableValidator&&e.disableValidator({model:o.value})},e.elementProps,{onPressEnter:n}),null,16,["value","disabled"]))]),_:1},16,["label","name"])):S("",!0)}}),Ft={formId:{type:String,default:"queryForm"},loading:{type:Boolean,default:!1},model:{type:Object,default:()=>{}},fields:{type:Array,default:()=>[]},commands:{type:Array,default:()=>[]},downloadOpt:{type:Object,default:()=>{}},dynamicFieldsPosition:{type:String,default:"end"},maxFieldWidth:{type:Number,default:230},commandsFloat:{type:String,default:"right"},defaultCheckedKeys:{type:Array,default:()=>[]},emitRegister:{type:Object,default:()=>{}},elementProps:{type:Object,default:()=>{}}},jt={inheritAttrs:!1},Tt=B({...jt,__name:"common-query",props:Ft,setup(e){const a=e,{resetFields:t}=M.useForm(a.model,void 0),l=T(()=>a.emitRegister);l.value.resetFields=t;const o=(u,d)=>{$(a.emitRegister,u,d)},n=()=>{a.commands.filter(d=>d.canKeyDown).map(d=>{o(d.command)})};return(u,d)=>(i(),A(c(M),m({ref:"formRef",model:u.model,layout:"inline"},u.elementProps),{default:E(()=>[(i(!0),g(P,null,w(u.fields,(s,v)=>(i(),A(It,m({key:v,"default-model":u.model,ref_for:!0},s,{onEnterKeyDown:n}),null,16,["default-model"]))),128)),C(c(q),null,{default:E(()=>[(i(!0),g(P,null,w(u.commands,(s,v)=>K((i(),A(c(N),m({key:v,class:"command",disabled:s.disableValidator&&s.disableValidator(),ref_for:!0},s.elementProps,{onClick:k=>o(s.command)}),{default:E(()=>[I(b(s.text),1)]),_:2},1040,["disabled","onClick"])),[[U,!s.visibleValidator||s.visibleValidator()]])),128))]),_:1})]),_:1},16,["model"]))}}),Nt=F(Tt,[["__scopeId","data-v-1e8fdc23"]]),Ot={style:{float:"left"}},Jt={style:{"margin-left":"36px","font-size":"14px",color:"#999","font-weight":"normal"}},Rt={key:0,style:{float:"right"}},xt={class:"ant-upload-wrapper"},Kt=["src"],Ut="data:image/png;base64,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",de=B({__name:"FormCtrl",props:{type:{type:String,default:"default"},label:{type:String,default:void 0},layout:{type:String,default:"horizontal"},operateType:{type:String,default:"add"},defaultModel:{type:Object,default:()=>{}},dataField:{type:String,default:""},rules:{type:Array,default:()=>null},width:{type:String,default:void 0},disableValidator:{type:Function,default:void 0},visibleValidator:{type:Function,default:()=>!0},customComponents:{type:Object,default:()=>{}},elementProps:{type:Object,default:()=>{}},extendProps:{type:Object,default:()=>{}},handleEmit:{type:Function,default:()=>{}},validateInfos:{type:Object,default:()=>{}}},setup(e){const a=e,t=T(()=>a.defaultModel),l=T(()=>a.operateType==="view"||a.disableValidator&&a.disableValidator({model:a.defaultModel,operateType:a.operateType}));return(o,n)=>{var u;return e.type==="space"?(i(),g("div",{key:0,class:"form-item-space",style:x({float:"left",width:"calc(100% + 28px)",height:"12px",margin:"0 -16px 0 -12px",background:"#f0f2f5",...e.elementProps.style})},null,4)):!e.visibleValidator||e.visibleValidator({model:t.value,operateType:e.operateType})?(i(),A(c(q),m({key:1,label:e.label,name:e.dataField,rules:e.rules},{...e.extendProps.formItemProps,...e.validateInfos[e.dataField]},{style:{float:"left",width:`calc(${e.width} - ${e.layout==="vertical"?"16px":"0px"})`,marginLeft:`${e.layout==="vertical"?"8px":"0"}`,marginRight:`${e.layout==="vertical"?"8px":"0"}`,marginBottom:["groupTitle","custom","space"].includes(e.type)||(u=e.validateInfos[e.dataField])!=null&&u.help?"0":"inherit",...e.extendProps.formItemStyle}}),{default:E(()=>{var d,s,v,k;return[["default","inputNumber","date","textArea","select","radioGroup","switch","checkboxGroup"].includes(e.type)&&e.operateType==="view"?(i(),g(P,{key:0},[["select","radioGroup"].includes(e.type)?(i(),g("span",m({key:0},e.elementProps,{style:{width:"100%",whiteSpace:"pre-line",...e.elementProps.style}}),b(((e.elementProps.options||[]).filter(r=>r.value===t.value[e.dataField])[0]||{}).label||"暂无"),17)):["switch"].includes(e.type)?(i(),g("span",m({key:1},e.elementProps,{style:{width:"100%",whiteSpace:"pre-line",...e.elementProps.style}}),b(t.value[e.dataField]===null||t.value[e.dataField]===void 0?"暂无":t.value[e.dataField]?"是":"否"),17)):["checkboxGroup"].includes(e.type)?(i(),g("span",m({key:2},e.elementProps,{style:{width:"100%",whiteSpace:"pre-line",...e.elementProps.style}}),b(((e.elementProps.options||[]).filter(r=>t.value[e.dataField].includes(r.value))||[]).map(r=>r.label).join(" , ")||"暂无"),17)):(i(),g("span",m({key:3},e.elementProps,{style:{width:"100%",whiteSpace:"pre-line",...e.elementProps.style}}),b(`${t.value[e.dataField]||((d=e.elementProps)!=null&&d.suffix?" - ":"暂无")}${((s=e.elementProps)==null?void 0:s.suffix)||""}`),17))],64)):e.type==="select"?(i(),A(c(Ae),m({key:1,value:t.value[e.dataField],"onUpdate:value":n[0]||(n[0]=r=>t.value[e.dataField]=r),placeholder:"请选择",disabled:l.value},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),null,16,["value","disabled","style"])):e.type==="autocomplete"?(i(),A(c(Fe),m({key:2,value:t.value[e.dataField],"onUpdate:value":n[1]||(n[1]=r=>t.value[e.dataField]=r),placeholder:"请选择",disabled:l.value},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),null,16,["value","disabled","style"])):e.type==="date"?(i(),A(c(ye),m({key:3,value:t.value[e.dataField],"onUpdate:value":n[2]||(n[2]=r=>t.value[e.dataField]=r),placeholder:"请选择",disabled:l.value},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),null,16,["value","disabled","style"])):e.type==="dateRange"?(i(),A(c(fe),m({key:4,value:t.value[e.dataField],"onUpdate:value":n[3]||(n[3]=r=>t.value[e.dataField]=r),disabled:l.value},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),null,16,["value","disabled","style"])):e.type==="time"?(i(),A(c(ge),m({key:5,value:t.value[e.dataField],"onUpdate:value":n[4]||(n[4]=r=>t.value[e.dataField]=r),placeholder:"请选择",disabled:l.value},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),null,16,["value","disabled","style"])):e.type==="timeRange"?(i(),A(c(ve),m({key:6,value:t.value[e.dataField],"onUpdate:value":n[5]||(n[5]=r=>t.value[e.dataField]=r),disabled:l.value},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),null,16,["value","disabled","style"])):e.type==="text"?(i(),g("span",m({key:7},e.elementProps,{style:{width:"100%",whiteSpace:"pre-line",...e.elementProps.style}}),b(`${t.value[e.dataField]||((v=e.elementProps)!=null&&v.suffix?" - ":"暂无")}${((k=e.elementProps)==null?void 0:k.suffix)||""}`),17)):e.type==="textArea"?(i(),A(c(je),m({key:8,value:t.value[e.dataField],"onUpdate:value":n[6]||(n[6]=r=>t.value[e.dataField]=r),disabled:l.value,placeholder:"请输入"},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),null,16,["value","disabled","style"])):e.type==="groupTitle"?(i(),g("div",m({key:9},e.elementProps,{style:{overflow:"hidden",width:"100%",fontSize:"16px",fontWeight:"bold",...e.elementProps.style}}),[h("div",Ot,[I(b(e.extendProps.groupTitle)+" ",1),h("span",Jt,b(e.extendProps.subTitle),1)]),e.extendProps.groupCommands?(i(),g("div",Rt,[(i(!0),g(P,null,w(e.extendProps.groupCommands,(r,f)=>K((i(),A(c(N),m({key:f,type:"link",disabled:r.disableValidator&&r.disableValidator({model:t.value,operateType:e.operateType}),ref_for:!0},r.elementProps,{onClick:Pe(p=>e.handleEmit(r.command),["stop"])}),{default:E(()=>[I(b(r.text),1)]),_:2},1040,["disabled","onClick"])),[[U,!r.visibleValidator||r.visibleValidator({model:t.value,operateType:e.operateType})]])),128))])):S("",!0)],16)):e.type==="checkboxGroup"?(i(),A(c(Te),m({key:10,value:t.value[e.dataField],"onUpdate:value":n[7]||(n[7]=r=>t.value[e.dataField]=r),disabled:l.value},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),null,16,["value","disabled","style"])):e.type==="radioGroup"?(i(),A(c(Ne),m({key:11,value:t.value[e.dataField],"onUpdate:value":n[8]||(n[8]=r=>t.value[e.dataField]=r),disabled:l.value},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),null,16,["value","disabled","style"])):e.type==="custom"&&e.extendProps.componentKey?(i(),A(ue(e.customComponents[e.extendProps.componentKey]),m({key:12,"component-data":t.value[e.dataField],"onUpdate:componentData":n[9]||(n[9]=r=>t.value[e.dataField]=r),model:t.value,"operate-type":e.operateType},e.elementProps),null,16,["component-data","model","operate-type"])):e.type==="status"?(i(),g("span",m({key:13},e.elementProps,{style:{width:"100%",...e.elementProps.style,color:((e.extendProps.statusOptions||[]).filter(r=>r.value===t.value[e.dataField])[0]||{}).color}}),b(((e.extendProps.statusOptions||[]).filter(r=>r.value===t.value[e.dataField])[0]||{}).label),17)):e.type==="inputNumber"?(i(),A(c(Oe),m({key:14,value:t.value[e.dataField],"onUpdate:value":n[10]||(n[10]=r=>t.value[e.dataField]=r),disabled:l.value,placeholder:"请输入"},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),null,16,["value","disabled","style"])):e.type==="switch"?(i(),A(c(Je),m({key:15,checked:t.value[e.dataField],"onUpdate:checked":n[11]||(n[11]=r=>t.value[e.dataField]=r),disabled:l.value},e.elementProps,{style:e.elementProps.style}),null,16,["checked","disabled","style"])):e.type==="image"?(i(),A(c(Re),{key:16,placement:"bottom",title:l.value?"":"点击上传图片"},{default:E(()=>[C(c(xe),m({showUploadList:!1,disabled:l.value},e.elementProps),{default:E(()=>{var r,f,p,y,Q;return[h("div",xt,[h("img",{src:t.value[e.dataField]||Ut,style:x({width:((f=(r=e.extendProps)==null?void 0:r.imageOptions)==null?void 0:f.width)||"100px",height:((p=e.extendProps.imageOptions)==null?void 0:p.height)||"100px",borderRadius:((y=e.extendProps.imageOptions)==null?void 0:y.radius)||"50%",objectFit:"cover",cursor:l.value?"default":"pointer",...(Q=e.extendProps.imageOptions)==null?void 0:Q.style})},null,12,Kt)])]}),_:1},16,["disabled"])]),_:1},8,["title"])):(i(),A(c(be),m({key:17,value:t.value[e.dataField],"onUpdate:value":n[12]||(n[12]=r=>t.value[e.dataField]=r),disabled:e.operateType==="view"||e.disableValidator&&e.disableValidator({model:t.value,operateType:e.operateType}),placeholder:"请输入"},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),Be({_:2},[e.extendProps&&e.extendProps.beforeText?{name:"addonBefore",fn:E(()=>[h("span",null,b(e.extendProps.beforeText),1)]),key:"0"}:void 0]),1040,["value","disabled","style"]))]}),_:1},16,["label","name","rules","style"])):S("",!0)}}}),zt={loading:{type:Boolean,default:!1},model:{type:Object,default:()=>{}},fields:{type:Array,default:()=>[]},commands:{type:Array,default:()=>[]},customCommands:{type:Array,default:()=>[]},rowFieldsCount:{type:Number,default:2},rowHeight:{type:Number,default:36},operateType:{type:String,default:"add"},customComponents:{type:Object,default:()=>{}},elementProps:{type:Object,default:()=>{}},extendProps:{type:Object,default:()=>{}},emitRegister:{type:Object,default:()=>{}},customValidators:{type:Array,default:()=>[]}},Vt={id:"common-form",style:{overflow:"hidden"}},Yt={class:"status",style:{overflow:"hidden"}},Dt={class:"commands"},Mt={inheritAttrs:!1},Lt=B({...Mt,__name:"common-form",props:zt,setup(e){const a=e,t=T(()=>{if(a.elementProps.rules)return a.elementProps.rules;{const r={};return a.fields.forEach(f=>{f.rules&&(!f.visibleValidator||f.visibleValidator({model:a.model,operateType:a.operateType}))&&(r[f.dataField]=f.rules)}),r}}),{resetFields:l,validate:o,clearValidate:n,validateInfos:u}=M.useForm(a.model,t),d=me(),s=T(()=>a.emitRegister);var v=function(f){const p=`form_item_${f}`,y=document.querySelector("#common-form"),Q=y==null?void 0:y.querySelector(`#${p}`);Q&&Ke(Q,{behavior:z=>z.forEach(({el:V,top:Y,left:L})=>{V.scrollTop=Y-30,V.scrollLeft=L}),scrollMode:"if-needed",block:"start"})};ie(()=>{var r,f;s.value.scrollToField=(r=d==null?void 0:d.value)==null?void 0:r.scrollToField,s.value.handleFinishFailed=(f=d==null?void 0:d.value)==null?void 0:f.handleFinishFailed}),s.value.validate=()=>new Promise((r,f)=>{try{o().then(()=>{r(!0)})}catch(p){v(p.errorFields[0].name),f(!1)}}),s.value.clearValidate=n,s.value.resetFields=l,ce(()=>{var r;s.value.validateFields=(r=d==null?void 0:d.value)==null?void 0:r.validateFields});const k=(r,f)=>{$(a.emitRegister,r,f)};return(r,f)=>{const p=se("a-spin");return i(),g(P,null,[h("div",{class:"content",style:x((r.extendProps||{}).contentStyle)},[C(p,{spinning:r.loading},{default:E(()=>[h("div",Vt,[C(c(M),m({ref_key:"formRef",ref:d,model:r.model},r.elementProps,{class:"common-form-container",style:{padding:"0 16px 0 12px",...r.elementProps.style},scrollToFirstError:!0}),{default:E(()=>[(i(!0),g(P,null,w(r.fields.filter(y=>(y.extendProps||{}).showInFooter!==!0),(y,Q)=>(i(),A(de,m({key:Q,"operate-type":r.operateType,"default-model":r.model,width:100/r.rowFieldsCount*(y.columnSpan||1)+"%",layout:r.elementProps.layout||"horizontal",customComponents:r.customComponents,handleEmit:k,validateInfos:c(u),ref_for:!0},y,{"element-props":y.elementProps||{},"extend-props":y.extendProps||{}}),null,16,["operate-type","default-model","width","layout","customComponents","validateInfos","element-props","extend-props"]))),128))]),_:1},16,["model","style"])])]),_:1},8,["spinning"])],4),r.commands&&r.commands.length&&r.commands.some(y=>!y.visibleValidator||y.visibleValidator({model:r.model,operateType:r.operateType}))?(i(),g("div",{key:0,class:"footer",style:x({background:"white",...(r.extendProps||{}).footerStyle})},[h("div",Yt,[(i(!0),g(P,null,w(r.fields.filter(y=>(y.extendProps||{}).showInFooter===!0),(y,Q)=>(i(),A(de,m({key:Q,"operate-type":r.operateType,"default-model":r.model,width:100/r.rowFieldsCount*(y.columnSpan||1)+"%",layout:r.elementProps.layout||"horizontal",customComponents:r.customComponents,handleEmit:k,validateInfos:c(u),ref_for:!0},y,{"element-props":y.elementProps||{},"extend-props":y.extendProps||{}}),null,16,["operate-type","default-model","width","layout","customComponents","validateInfos","element-props","extend-props"]))),128))]),h("div",Dt,[(i(!0),g(P,null,w(r.commands,(y,Q)=>K((i(),A(c(N),m({key:Q,class:"command",loading:y.loading,disabled:y.disableValidator&&y.disableValidator.call({model:r.model,operateType:r.operateType}),ref_for:!0},y.elementProps,{onClick:z=>k(y.command,{command:y})}),{default:E(()=>[I(b(y.text),1)]),_:2},1040,["loading","disabled","onClick"])),[[U,!y.visibleValidator||y.visibleValidator({model:r.model,operateType:r.operateType})]])),128))])],4)):S("",!0)],64)}}}),Ht=F(Lt,[["__scopeId","data-v-7d51db23"]]),Z={CaCommonTable:St,CaCommonQuery:Nt,CaCommonForm:Ht},Gt=e=>{Object.keys(Z).forEach(a=>{e.component(a,Z[a])})},Xt={version:"1.0.0",install:Gt,...Z};export{Xt as default};
