import{l as W,n as ie,k as C,d as B,S as i,U as g,ac as w,m as x,A as U,Y as y,Z as E,G as I,X as b,ah as m,u as c,F as h,$ as F,aj as K,_ as S,W as pe,ab as he,ae as se,f as ue,o as me,c as T,a4 as p,B as Pe,aJ as Be}from"./framework.B0zGB0ni.js";import{g as ke,P as we,B as N,a as Se,b as Ie,S as ce,D as Ae,R as ye,c as fe,d as ge,I as ve,F as q,e as D,A as Fe,f as je,C as Te,h as Ne,i as Oe,j as Je,k as Re,U as Ke,l as xe,s as Ue}from"./theme.BhRm2Efp.js";var _=[],J=[],ze="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function Ve(){var e=document.createElement("style");return e.setAttribute("type","text/css"),e}function Ye(e,a){if(a=a||{},e===void 0)throw new Error(ze);var t=a.prepend===!0?"prepend":"append",n=a.container!==void 0?a.container:document.querySelector("head"),o=_.indexOf(n);o===-1&&(o=_.push(n)-1,J[o]={});var l;return J[o]!==void 0&&J[o][t]!==void 0?l=J[o][t]:(l=J[o][t]=Ve(),t==="prepend"?n.insertBefore(l,n.childNodes[0]):n.appendChild(l)),e.charCodeAt(0)===65279&&(e=e.substr(1,e.length)),l.styleSheet?l.styleSheet.cssText+=e:l.textContent+=e,l}function ee(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?Object(arguments[a]):{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),n.forEach(function(o){De(e,o,t[o])})}return e}function De(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function te(e){return typeof e=="object"&&typeof e.name=="string"&&typeof e.theme=="string"&&(typeof e.icon=="object"||typeof e.icon=="function")}function H(e,a,t){return t?W(e.tag,ee({key:a},t,e.attrs),(e.children||[]).map(function(n,o){return H(n,"".concat(a,"-").concat(e.tag,"-").concat(o))})):W(e.tag,ee({key:a},e.attrs),(e.children||[]).map(function(n,o){return H(n,"".concat(a,"-").concat(e.tag,"-").concat(o))}))}function be(e){return ke(e)[0]}function Ee(e){return e?Array.isArray(e)?e:[e]:[]}var Me=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,ae=!1,Le=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Me;ie(function(){ae||(typeof window<"u"&&window.document&&window.document.documentElement&&Ye(a,{prepend:!0}),ae=!0)})},He=["icon","primaryColor","secondaryColor"];function Ge(e,a){if(e==null)return{};var t=Ze(e,a),n,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)n=l[o],!(a.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function Ze(e,a){if(e==null)return{};var t={},n=Object.keys(e),o,l;for(l=0;l<n.length;l++)o=n[l],!(a.indexOf(o)>=0)&&(t[o]=e[o]);return t}function Y(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?Object(arguments[a]):{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),n.forEach(function(o){qe(e,o,t[o])})}return e}function qe(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var R={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function Xe(e){var a=e.primaryColor,t=e.secondaryColor;R.primaryColor=a,R.secondaryColor=t||be(a),R.calculated=!!t}function $e(){return Y({},R)}var j=function(a,t){var n=Y({},a,t.attrs),o=n.icon,l=n.primaryColor,u=n.secondaryColor,d=Ge(n,He),s=R;if(l&&(s={primaryColor:l,secondaryColor:u||be(l)}),Le(),te(o),!te(o))return null;var v=o;return v&&typeof v.icon=="function"&&(v=Y({},v,{icon:v.icon(s.primaryColor,s.secondaryColor)})),H(v.icon,"svg-".concat(v.name),Y({},d,{"data-icon":v.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"}))};j.props={icon:Object,primaryColor:String,secondaryColor:String,focusable:String};j.inheritAttrs=!1;j.displayName="IconBase";j.getTwoToneColors=$e;j.setTwoToneColors=Xe;function We(e,a){return at(e)||tt(e,a)||et(e,a)||_e()}function _e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function et(e,a){if(e){if(typeof e=="string")return le(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return le(e,a)}}function le(e,a){(a==null||a>e.length)&&(a=e.length);for(var t=0,n=new Array(a);t<a;t++)n[t]=e[t];return n}function tt(e,a){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,l=!1,u,d;try{for(t=t.call(e);!(o=(u=t.next()).done)&&(n.push(u.value),!(a&&n.length===a));o=!0);}catch(s){l=!0,d=s}finally{try{!o&&t.return!=null&&t.return()}finally{if(l)throw d}}return n}}function at(e){if(Array.isArray(e))return e}function Qe(e){var a=Ee(e),t=We(a,2),n=t[0],o=t[1];return j.setTwoToneColors({primaryColor:n,secondaryColor:o})}function lt(){var e=j.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}var nt=["class","icon","spin","rotate","tabindex","twoToneColor","onClick"];function ot(e,a){return st(e)||it(e,a)||dt(e,a)||rt()}function rt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dt(e,a){if(e){if(typeof e=="string")return ne(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ne(e,a)}}function ne(e,a){(a==null||a>e.length)&&(a=e.length);for(var t=0,n=new Array(a);t<a;t++)n[t]=e[t];return n}function it(e,a){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,l=!1,u,d;try{for(t=t.call(e);!(o=(u=t.next()).done)&&(n.push(u.value),!(a&&n.length===a));o=!0);}catch(s){l=!0,d=s}finally{try{!o&&t.return!=null&&t.return()}finally{if(l)throw d}}return n}}function st(e){if(Array.isArray(e))return e}function oe(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?Object(arguments[a]):{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),n.forEach(function(o){G(e,o,t[o])})}return e}function G(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function ut(e,a){if(e==null)return{};var t=mt(e,a),n,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)n=l[o],!(a.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function mt(e,a){if(e==null)return{};var t={},n=Object.keys(e),o,l;for(l=0;l<n.length;l++)o=n[l],!(a.indexOf(o)>=0)&&(t[o]=e[o]);return t}Qe("#1890ff");var O=function(a,t){var n,o=oe({},a,t.attrs),l=o.class,u=o.icon,d=o.spin,s=o.rotate,v=o.tabindex,k=o.twoToneColor,r=o.onClick,f=ut(o,nt),A=(n={anticon:!0},G(n,"anticon-".concat(u.name),!!u.name),G(n,l,l),n),Q=d===""||d||u.name==="loading"?"anticon-spin":"",P=v;P===void 0&&r&&(P=-1,f.tabindex=P);var M=s?{msTransform:"rotate(".concat(s,"deg)"),transform:"rotate(".concat(s,"deg)")}:void 0,z=Ee(k),V=ot(z,2),L=V[0],Ce=V[1];return C("span",oe({role:"img","aria-label":u.name},f,{onClick:r,class:A}),[C(j,{class:Q,icon:u,primaryColor:L,secondaryColor:Ce,style:M},null)])};O.props={spin:Boolean,rotate:Number,icon:Object,twoToneColor:String};O.displayName="AntdIcon";O.inheritAttrs=!1;O.getTwoToneColor=lt;O.setTwoToneColor=Qe;function re(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?Object(arguments[a]):{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),n.forEach(function(o){ct(e,o,t[o])})}return e}function ct(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var X=function(a,t){var n=re({},a,t.attrs);return C(O,re({},n,{icon:we}),null)};X.displayName="PlusOutlined";X.inheritAttrs=!1;const At={loading:{type:Boolean,default:!1},title:{type:String,default:""},rowKey:{type:String,default:"id"},dataSource:{type:Array,default:()=>[]},columns:{type:Array,default(){return[]}},pagination:{type:[Object,Boolean]},addCommand:{type:Object,default:()=>{}},customCommands:{type:Array,default:()=>[]},settingCommands:{type:Array,default:()=>[]},getList:{type:Function},customComponents:{type:Object,default:()=>{}},tableTag:{type:String,default:""},emitRegister:{type:Object,default:()=>{}},elementProps:{type:Object,default:()=>{}},extendProps:{type:Object,default:()=>({cacheConfigColumns:!0,showRefresh:!0,showColumnConfig:!0})}},yt=B({__name:"CommandColumn",props:{commands:{type:Array,default:()=>[]},handleEmit:{type:Function,default:()=>{}},record:{type:Object,default:()=>{}},index:{type:Number,default:0}},setup(e){return(a,t)=>(i(!0),g(h,null,w(e.commands,(n,o)=>x((i(),y(c(N),m({key:o,class:"command",type:"link",disabled:n.disableValidator&&n.disableValidator({row:e.record,item:n}),ref_for:!0},n.elementProps,{onClick:l=>e.handleEmit(n.command,{row:e.record,index:e.index,item:n})}),{default:E(()=>[I(b(n.text),1)]),_:2},1040,["disabled","onClick"])),[[U,!n.visibleValidator||n.visibleValidator({row:e.record,item:n})]])),128))}}),ft=F(yt,[["__scopeId","data-v-1d25ca4e"]]),gt=B({__name:"StatusColumn",props:{options:{type:Array,default:()=>[]},dataField:{type:String,default:""},record:{type:Object,default:()=>{}}},setup(e){return(a,t)=>e.options.some(n=>n.value===e.record[e.dataField])?(i(),g("span",{key:0,style:K({color:e.options.filter(n=>n.value===e.record[e.dataField])[0].color})},b(e.options.filter(n=>n.value===e.record[e.dataField])[0].label),5)):S("",!0)}}),vt=F(gt,[["__scopeId","data-v-e5985d91"]]),bt=B({__name:"LinkColumn",props:{command:{type:String,default:""},dataField:{type:String,default:""},handleEmit:{type:Function,default:()=>{}},record:{type:Object,default:()=>{}},index:{type:Number,default:0},elementProps:{type:Object,default:()=>{}}},setup(e){return(a,t)=>(i(),y(c(N),{class:pe([e.elementProps.ellipsis?"nowrap-link":"wrap-link","link-class"]),type:"link",onClick:t[0]||(t[0]=n=>e.handleEmit(e.command,{row:e.record,index:e.index}))},{default:E(()=>[I(b(e.record[e.dataField]),1)]),_:1},8,["class"]))}}),Et=F(bt,[["__scopeId","data-v-a7ce965a"]]),Qt=B({__name:"ImageColumn",props:{dataField:{type:String,default:""},record:{type:Object,default:()=>{}},elementProps:{type:Object,default:()=>({width:50,height:50})}},setup(e){return(a,t)=>{const n=he("a-image");return i(),y(n,m({src:e.record[e.dataField],fallback:"data:image/png;base64,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"},e.elementProps),null,16,["src"])}}}),Ct=F(Qt,[["__scopeId","data-v-fb6c7478"]]),pt=B({__name:"ComponentColumn",props:{customComponents:{type:Object,default:()=>{}},componentKey:{type:String,default:""},dataField:{type:String,default:""},record:{type:Object,default:()=>{}},handleEmit:{type:Function,default:()=>{}}},setup(e){return(a,t)=>(i(),y(se(e.customComponents[e.componentKey]),{"v-model:component-data":e.record[e.dataField],model:e.record,dataField:e.dataField,handleEmit:e.handleEmit},null,8,["v-model:component-data","model","dataField","handleEmit"]))}}),ht=F(pt,[["__scopeId","data-v-93f9f894"]]),$=(e,a,t={})=>{if(Object.keys(e).length===0){console.error("emitRegister中未注册任何事件");return}if(!a){console.error("事件名不能为空");return}const n=e[a];if(!n){console.error(`当前事件【${a}】未在emitRegister中注册`);return}Object.keys(t).length>0?n(t):n()},Pt={key:0,class:"table-append-header"},Bt={class:"table-title"},kt={class:"table-commands"},wt={inheritAttrs:!1},St=B({...wt,__name:"common-table",props:At,setup(e){let a=ue();me(()=>{a.value={getContainer:()=>document.getElementById("comTable")}});const t=e,n=(l,u)=>{$(t.emitRegister,l,u)},o=T(()=>t.columns.map(l=>{switch(l.type){case"index":return{title:l.label,customRender:({index:u})=>{const d=t.pagination||!1;return d===!1?`${u+1}`:`${((d.current||1)-1)*(d.pageSize||10)+u+1}`},align:"center",...l.elementProps};case"link":return{title:l.label,customRender:({record:u,index:d})=>C(Et,{command:(l.extendProps||{}).linkCommand,dataField:l.dataField,handleEmit:n,record:u,index:d,elementProps:l.elementProps},null),...l.elementProps};case"image":return{title:l.label,customRender:({record:u,index:d})=>{var s;return C(Ct,{dataField:l.dataField,record:u,index:d,elementProps:(s=l.extendProps)==null?void 0:s.subElementProps},null)},...l.elementProps};case"custom":return{title:l.label,customRender:({record:u})=>C(ht,{customComponents:t.customComponents,componentKey:(l.extendProps||{}).componentKey,dataField:l.dataField,record:u,handleEmit:n},null),...l.elementProps};case"commands":return{title:l.label,customRender:({record:u,index:d})=>C(ft,{commands:(l.extendProps||{}).commands,handleEmit:n,record:u,index:d},null),...l.elementProps};case"status":return{title:l.label,customRender:({record:u})=>C(vt,{options:(l.extendProps||{}).options,record:u,dataField:l.dataField},null),...l.elementProps};default:return{title:l.label,dataIndex:l.dataField,...l.elementProps}}}));return(l,u)=>(i(),g(h,null,[l.title||l.addCommand||l.customCommands&&l.customCommands.length?(i(),g("div",Pt,[p("div",Bt,b(l.title||""),1),p("div",kt,[l.addCommand&&l.addCommand.text&&(!l.addCommand.visibleValidator||l.addCommand.visibleValidator())?(i(),y(c(N),m({key:0,type:"primary",disabled:l.addCommand.disableValidator&&l.addCommand.disableValidator()},l.addCommand.elementProps,{onClick:u[0]||(u[0]=d=>n(l.addCommand.command))}),{icon:E(()=>[C(c(X))]),default:E(()=>[I(" "+b(l.addCommand.text),1)]),_:1},16,["disabled"])):S("",!0),l.customCommands&&l.customCommands.length?(i(),y(c(Se),{key:1,class:"table-custom-commands"},{default:E(()=>[(i(!0),g(h,null,w(l.customCommands,(d,s)=>x((i(),y(c(N),m({key:s,disabled:d.disableValidator&&d.disableValidator(),ref_for:!0},d.elementProps,{onClick:v=>n(d.command)}),{default:E(()=>[I(b(d.text),1)]),_:2},1040,["disabled","onClick"])),[[U,!d.visibleValidator||d.visibleValidator()]])),128))]),_:1})):S("",!0)])])):S("",!0),C(c(Ie),m({"row-key":l.rowKey,loading:l.loading,dataSource:l.dataSource,columns:o.value,scroll:{x:"100%"},pagination:l.pagination===!1?!1:{showSizeChanger:!0,showTotal:d=>`共 ${d} 条`,...l.pagination}},l.elementProps,{sticky:c(a)}),null,16,["row-key","loading","dataSource","columns","pagination","sticky"])],64))}}),It=F(St,[["__scopeId","data-v-971c774b"]]),Ft=B({__name:"QueryCtrl",props:{type:{type:String,default:void 0},label:{type:String,default:void 0},defaultModel:{type:Object,default:()=>{}},dataField:{type:String,default:""},width:{type:String,default:void 0},disableValidator:{type:Function,default:void 0},visibleValidator:{type:Function,default:()=>!0},elementProps:{type:Object,default(){return{valueFormat:"yyyy-MM-dd"}}},extendProps:{type:Object,default:()=>({})}},emits:["enterKeyDown"],setup(e,{emit:a}){const t=e,n=a,o=T(()=>t.defaultModel),l=()=>{n("enterKeyDown")};return(u,d)=>!e.visibleValidator||e.visibleValidator({model:o.value})?(i(),y(c(q),m({key:0,label:e.label,name:e.dataField},e.extendProps.formItemProps),{default:E(()=>[e.type==="select"?(i(),y(c(ce),m({key:0,value:o.value[e.dataField],"onUpdate:value":d[0]||(d[0]=s=>o.value[e.dataField]=s),placeholder:"请选择",disabled:e.disableValidator&&e.disableValidator({model:o.value}),"allow-clear":!0},e.elementProps),null,16,["value","disabled"])):e.type==="date"?(i(),y(c(Ae),m({key:1,value:o.value[e.dataField],"onUpdate:value":d[1]||(d[1]=s=>o.value[e.dataField]=s),placeholder:"请选择",disabled:e.disableValidator&&e.disableValidator({model:o.value}),"allow-clear":!0},e.elementProps),null,16,["value","disabled"])):e.type==="dateRange"?(i(),y(c(ye),m({key:2,value:o.value[e.dataField],"onUpdate:value":d[2]||(d[2]=s=>o.value[e.dataField]=s),disabled:e.disableValidator&&e.disableValidator({model:o.value}),"allow-clear":!0},e.elementProps),null,16,["value","disabled"])):e.type==="time"?(i(),y(c(fe),m({key:3,value:o.value[e.dataField],"onUpdate:value":d[3]||(d[3]=s=>o.value[e.dataField]=s),placeholder:"请选择",disabled:e.disableValidator&&e.disableValidator({model:o.value}),"allow-clear":!0},e.elementProps),null,16,["value","disabled"])):e.type==="timeRange"?(i(),y(c(ge),m({key:4,value:o.value[e.dataField],"onUpdate:value":d[4]||(d[4]=s=>o.value[e.dataField]=s),disabled:e.disableValidator&&e.disableValidator({model:o.value}),"allow-clear":!0},e.elementProps),null,16,["value","disabled"])):(i(),y(c(ve),m({key:5,value:o.value[e.dataField],"onUpdate:value":d[5]||(d[5]=s=>o.value[e.dataField]=s),placeholder:"请输入",disabled:e.disableValidator&&e.disableValidator({model:o.value})},e.elementProps,{onPressEnter:l}),null,16,["value","disabled"]))]),_:1},16,["label","name"])):S("",!0)}}),jt={formId:{type:String,default:"queryForm"},loading:{type:Boolean,default:!1},model:{type:Object,default:()=>{}},fields:{type:Array,default:()=>[]},commands:{type:Array,default:()=>[]},downloadOpt:{type:Object,default:()=>{}},dynamicFieldsPosition:{type:String,default:"end"},maxFieldWidth:{type:Number,default:230},commandsFloat:{type:String,default:"right"},defaultCheckedKeys:{type:Array,default:()=>[]},emitRegister:{type:Object,default:()=>{}},elementProps:{type:Object,default:()=>{}}},Tt={inheritAttrs:!1},Nt=B({...Tt,__name:"common-query",props:jt,setup(e){const a=e,{resetFields:t}=D.useForm(a.model,void 0),n=T(()=>a.emitRegister);n.value.resetFields=t;const o=(u,d)=>{$(a.emitRegister,u,d)},l=()=>{a.commands.filter(d=>d.canKeyDown).map(d=>{o(d.command)})};return(u,d)=>(i(),y(c(D),m({ref:"formRef",model:u.model,layout:"inline"},u.elementProps),{default:E(()=>[(i(!0),g(h,null,w(u.fields,(s,v)=>(i(),y(Ft,m({key:v,"default-model":u.model,ref_for:!0},s,{onEnterKeyDown:l}),null,16,["default-model"]))),128)),C(c(q),null,{default:E(()=>[(i(!0),g(h,null,w(u.commands,(s,v)=>x((i(),y(c(N),m({key:v,class:"command",disabled:s.disableValidator&&s.disableValidator(),ref_for:!0},s.elementProps,{onClick:k=>o(s.command)}),{default:E(()=>[I(b(s.text),1)]),_:2},1040,["disabled","onClick"])),[[U,!s.visibleValidator||s.visibleValidator()]])),128))]),_:1})]),_:1},16,["model"]))}}),Ot=F(Nt,[["__scopeId","data-v-1e8fdc23"]]),Jt={style:{float:"left"}},Rt={style:{"margin-left":"36px","font-size":"14px",color:"#999","font-weight":"normal"}},Kt={key:0,style:{float:"right"}},xt={class:"ant-upload-wrapper"},Ut=["src"],zt="data:image/png;base64,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",de=B({__name:"FormCtrl",props:{type:{type:String,default:"default"},label:{type:String,default:void 0},layout:{type:String,default:"horizontal"},operateType:{type:String,default:"add"},defaultModel:{type:Object,default:()=>{}},dataField:{type:String,default:""},rules:{type:Array,default:()=>null},width:{type:String,default:void 0},disableValidator:{type:Function,default:void 0},visibleValidator:{type:Function,default:()=>!0},customComponents:{type:Object,default:()=>{}},elementProps:{type:Object,default:()=>{}},extendProps:{type:Object,default:()=>{}},handleEmit:{type:Function,default:()=>{}},validateInfos:{type:Object,default:()=>{}}},setup(e){const a=e,t=T(()=>a.defaultModel),n=T(()=>a.operateType==="view"||a.disableValidator&&a.disableValidator({model:a.defaultModel,operateType:a.operateType}));return(o,l)=>{var u;return e.type==="space"?(i(),g("div",{key:0,class:"form-item-space",style:K({float:"left",width:"calc(100% + 28px)",height:"12px",margin:"0 -16px 0 -12px",background:"#f0f2f5",...e.elementProps.style})},null,4)):!e.visibleValidator||e.visibleValidator({model:t.value,operateType:e.operateType})?(i(),y(c(q),m({key:1,label:e.label,name:e.dataField,rules:e.rules},{...e.extendProps.formItemProps,...e.validateInfos[e.dataField]},{style:{float:"left",width:`calc(${e.width} - ${e.layout==="vertical"?"16px":"0px"})`,marginLeft:`${e.layout==="vertical"?"8px":"0"}`,marginRight:`${e.layout==="vertical"?"8px":"0"}`,marginBottom:["groupTitle","custom","space"].includes(e.type)||(u=e.validateInfos[e.dataField])!=null&&u.help?"0":"inherit",...e.extendProps.formItemStyle}}),{default:E(()=>{var d,s,v,k;return[["default","inputNumber","date","textArea","select","radioGroup","switch","checkboxGroup"].includes(e.type)&&e.operateType==="view"?(i(),g(h,{key:0},[["select","radioGroup"].includes(e.type)?(i(),g("span",m({key:0},e.elementProps,{style:{width:"100%",whiteSpace:"pre-line",...e.elementProps.style}}),b(((e.elementProps.options||[]).filter(r=>r.value===t.value[e.dataField])[0]||{}).label||"暂无"),17)):["switch"].includes(e.type)?(i(),g("span",m({key:1},e.elementProps,{style:{width:"100%",whiteSpace:"pre-line",...e.elementProps.style}}),b(t.value[e.dataField]===null||t.value[e.dataField]===void 0?"暂无":t.value[e.dataField]?"是":"否"),17)):["checkboxGroup"].includes(e.type)?(i(),g("span",m({key:2},e.elementProps,{style:{width:"100%",whiteSpace:"pre-line",...e.elementProps.style}}),b(((e.elementProps.options||[]).filter(r=>t.value[e.dataField].includes(r.value))||[]).map(r=>r.label).join(" , ")||"暂无"),17)):(i(),g("span",m({key:3},e.elementProps,{style:{width:"100%",whiteSpace:"pre-line",...e.elementProps.style}}),b(`${t.value[e.dataField]||((d=e.elementProps)!=null&&d.suffix?" - ":"暂无")}${((s=e.elementProps)==null?void 0:s.suffix)||""}`),17))],64)):e.type==="select"?(i(),y(c(ce),m({key:1,value:t.value[e.dataField],"onUpdate:value":l[0]||(l[0]=r=>t.value[e.dataField]=r),placeholder:"请选择",disabled:n.value},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),null,16,["value","disabled","style"])):e.type==="autocomplete"?(i(),y(c(Fe),m({key:2,value:t.value[e.dataField],"onUpdate:value":l[1]||(l[1]=r=>t.value[e.dataField]=r),placeholder:"请选择",disabled:n.value},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),null,16,["value","disabled","style"])):e.type==="date"?(i(),y(c(Ae),m({key:3,value:t.value[e.dataField],"onUpdate:value":l[2]||(l[2]=r=>t.value[e.dataField]=r),placeholder:"请选择",disabled:n.value},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),null,16,["value","disabled","style"])):e.type==="dateRange"?(i(),y(c(ye),m({key:4,value:t.value[e.dataField],"onUpdate:value":l[3]||(l[3]=r=>t.value[e.dataField]=r),disabled:n.value},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),null,16,["value","disabled","style"])):e.type==="time"?(i(),y(c(fe),m({key:5,value:t.value[e.dataField],"onUpdate:value":l[4]||(l[4]=r=>t.value[e.dataField]=r),placeholder:"请选择",disabled:n.value},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),null,16,["value","disabled","style"])):e.type==="timeRange"?(i(),y(c(ge),m({key:6,value:t.value[e.dataField],"onUpdate:value":l[5]||(l[5]=r=>t.value[e.dataField]=r),disabled:n.value},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),null,16,["value","disabled","style"])):e.type==="text"?(i(),g("span",m({key:7},e.elementProps,{style:{width:"100%",whiteSpace:"pre-line",...e.elementProps.style}}),b(`${t.value[e.dataField]||((v=e.elementProps)!=null&&v.suffix?" - ":"暂无")}${((k=e.elementProps)==null?void 0:k.suffix)||""}`),17)):e.type==="textArea"?(i(),y(c(je),m({key:8,value:t.value[e.dataField],"onUpdate:value":l[6]||(l[6]=r=>t.value[e.dataField]=r),disabled:n.value,placeholder:"请输入"},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),null,16,["value","disabled","style"])):e.type==="groupTitle"?(i(),g("div",m({key:9},e.elementProps,{style:{overflow:"hidden",width:"100%",fontSize:"16px",fontWeight:"bold",...e.elementProps.style}}),[p("div",Jt,[I(b(e.extendProps.groupTitle)+" ",1),p("span",Rt,b(e.extendProps.subTitle),1)]),e.extendProps.groupCommands?(i(),g("div",Kt,[(i(!0),g(h,null,w(e.extendProps.groupCommands,(r,f)=>x((i(),y(c(N),m({key:f,type:"link",disabled:r.disableValidator&&r.disableValidator({model:t.value,operateType:e.operateType}),ref_for:!0},r.elementProps,{onClick:Pe(A=>e.handleEmit(r.command),["stop"])}),{default:E(()=>[I(b(r.text),1)]),_:2},1040,["disabled","onClick"])),[[U,!r.visibleValidator||r.visibleValidator({model:t.value,operateType:e.operateType})]])),128))])):S("",!0)],16)):e.type==="checkboxGroup"?(i(),y(c(Te),m({key:10,value:t.value[e.dataField],"onUpdate:value":l[7]||(l[7]=r=>t.value[e.dataField]=r),disabled:n.value},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),null,16,["value","disabled","style"])):e.type==="radioGroup"?(i(),y(c(Ne),m({key:11,value:t.value[e.dataField],"onUpdate:value":l[8]||(l[8]=r=>t.value[e.dataField]=r),disabled:n.value},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),null,16,["value","disabled","style"])):e.type==="custom"&&e.extendProps.componentKey?(i(),y(se(e.customComponents[e.extendProps.componentKey]),m({key:12,"component-data":t.value[e.dataField],"onUpdate:componentData":l[9]||(l[9]=r=>t.value[e.dataField]=r),model:t.value,"operate-type":e.operateType},e.elementProps),null,16,["component-data","model","operate-type"])):e.type==="status"?(i(),g("span",m({key:13},e.elementProps,{style:{width:"100%",...e.elementProps.style,color:((e.extendProps.statusOptions||[]).filter(r=>r.value===t.value[e.dataField])[0]||{}).color}}),b(((e.extendProps.statusOptions||[]).filter(r=>r.value===t.value[e.dataField])[0]||{}).label),17)):e.type==="inputNumber"?(i(),y(c(Oe),m({key:14,value:t.value[e.dataField],"onUpdate:value":l[10]||(l[10]=r=>t.value[e.dataField]=r),disabled:n.value,placeholder:"请输入"},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),null,16,["value","disabled","style"])):e.type==="switch"?(i(),y(c(Je),m({key:15,checked:t.value[e.dataField],"onUpdate:checked":l[11]||(l[11]=r=>t.value[e.dataField]=r),disabled:n.value},e.elementProps,{style:e.elementProps.style}),null,16,["checked","disabled","style"])):e.type==="image"?(i(),y(c(Re),{key:16,placement:"bottom",title:n.value?"":"点击上传图片"},{default:E(()=>[C(c(Ke),m({showUploadList:!1,disabled:n.value},e.elementProps),{default:E(()=>{var r,f,A,Q,P;return[p("div",xt,[p("img",{src:t.value[e.dataField]||zt,style:K({width:((f=(r=e.extendProps)==null?void 0:r.imageOptions)==null?void 0:f.width)||"100px",height:((A=e.extendProps.imageOptions)==null?void 0:A.height)||"100px",borderRadius:((Q=e.extendProps.imageOptions)==null?void 0:Q.radius)||"50%",objectFit:"cover",cursor:n.value?"default":"pointer",...(P=e.extendProps.imageOptions)==null?void 0:P.style})},null,12,Ut)])]}),_:1},16,["disabled"])]),_:1},8,["title"])):(i(),y(c(ve),m({key:17,value:t.value[e.dataField],"onUpdate:value":l[12]||(l[12]=r=>t.value[e.dataField]=r),disabled:e.operateType==="view"||e.disableValidator&&e.disableValidator({model:t.value,operateType:e.operateType}),placeholder:"请输入"},e.elementProps,{style:{width:"100%",...e.elementProps.style}}),Be({_:2},[e.extendProps&&e.extendProps.beforeText?{name:"addonBefore",fn:E(()=>[p("span",null,b(e.extendProps.beforeText),1)]),key:"0"}:void 0]),1040,["value","disabled","style"]))]}),_:1},16,["label","name","rules","style"])):S("",!0)}}}),Vt={loading:{type:Boolean,default:!1},model:{type:Object,default:()=>{}},fields:{type:Array,default:()=>[]},commands:{type:Array,default:()=>[]},customCommands:{type:Array,default:()=>[]},rowFieldsCount:{type:Number,default:2},rowHeight:{type:Number,default:36},operateType:{type:String,default:"add"},customComponents:{type:Object,default:()=>{}},elementProps:{type:Object,default:()=>{}},extendProps:{type:Object,default:()=>{}},emitRegister:{type:Object,default:()=>{}},customValidators:{type:Array,default:()=>[]}},Yt={id:"common-form",style:{overflow:"hidden"}},Dt={class:"status",style:{overflow:"hidden"}},Mt={class:"commands"},Lt={inheritAttrs:!1},Ht=B({...Lt,__name:"common-form",props:Vt,setup(e){const a=e,t=T(()=>{if(a.elementProps.rules)return a.elementProps.rules;{const r={};return a.fields.forEach(f=>{f.rules&&(!f.visibleValidator||f.visibleValidator({model:a.model,operateType:a.operateType}))&&(r[f.dataField]=f.rules)}),r}}),{resetFields:n,validate:o,clearValidate:l,validateInfos:u}=D.useForm(a.model,t),d=ue(),s=T(()=>a.emitRegister);var v=function(f){const A=`form_item_${f}`,Q=document.querySelector("#common-form"),P=Q==null?void 0:Q.querySelector(`#${A}`);P&&Ue(P,{behavior:M=>M.forEach(({el:z,top:V,left:L})=>{z.scrollTop=V-30,z.scrollLeft=L}),scrollMode:"if-needed",block:"start"})};ie(()=>{var r,f;s.value.scrollToField=(r=d==null?void 0:d.value)==null?void 0:r.scrollToField,s.value.handleFinishFailed=(f=d==null?void 0:d.value)==null?void 0:f.handleFinishFailed}),s.value.validate=()=>new Promise((r,f)=>{try{o().then(()=>{r(!0)})}catch(A){v(A.errorFields[0].name),f(!1)}}),s.value.clearValidate=l,s.value.resetFields=n,me(()=>{var r;s.value.validateFields=(r=d==null?void 0:d.value)==null?void 0:r.validateFields});const k=(r,f)=>{$(a.emitRegister,r,f)};return(r,f)=>(i(),g(h,null,[p("div",{class:"content",style:K((r.extendProps||{}).contentStyle)},[C(c(xe),{spinning:r.loading},{default:E(()=>[p("div",Yt,[C(c(D),m({ref_key:"formRef",ref:d,model:r.model},r.elementProps,{class:"common-form-container",style:{padding:"0 16px 0 12px",...r.elementProps.style},scrollToFirstError:!0}),{default:E(()=>[(i(!0),g(h,null,w(r.fields.filter(A=>(A.extendProps||{}).showInFooter!==!0),(A,Q)=>(i(),y(de,m({key:Q,"operate-type":r.operateType,"default-model":r.model,width:100/r.rowFieldsCount*(A.columnSpan||1)+"%",layout:r.elementProps.layout||"horizontal",customComponents:r.customComponents,handleEmit:k,validateInfos:c(u),ref_for:!0},A,{"element-props":A.elementProps||{},"extend-props":A.extendProps||{}}),null,16,["operate-type","default-model","width","layout","customComponents","validateInfos","element-props","extend-props"]))),128))]),_:1},16,["model","style"])])]),_:1},8,["spinning"])],4),r.commands&&r.commands.length&&r.commands.some(A=>!A.visibleValidator||A.visibleValidator({model:r.model,operateType:r.operateType}))?(i(),g("div",{key:0,class:"footer",style:K({background:"white",...(r.extendProps||{}).footerStyle})},[p("div",Dt,[(i(!0),g(h,null,w(r.fields.filter(A=>(A.extendProps||{}).showInFooter===!0),(A,Q)=>(i(),y(de,m({key:Q,"operate-type":r.operateType,"default-model":r.model,width:100/r.rowFieldsCount*(A.columnSpan||1)+"%",layout:r.elementProps.layout||"horizontal",customComponents:r.customComponents,handleEmit:k,validateInfos:c(u),ref_for:!0},A,{"element-props":A.elementProps||{},"extend-props":A.extendProps||{}}),null,16,["operate-type","default-model","width","layout","customComponents","validateInfos","element-props","extend-props"]))),128))]),p("div",Mt,[(i(!0),g(h,null,w(r.commands,(A,Q)=>x((i(),y(c(N),m({key:Q,class:"command",loading:A.loading,disabled:A.disableValidator&&A.disableValidator.call({model:r.model,operateType:r.operateType}),ref_for:!0},A.elementProps,{onClick:P=>k(A.command,{command:A})}),{default:E(()=>[I(b(A.text),1)]),_:2},1040,["loading","disabled","onClick"])),[[U,!A.visibleValidator||A.visibleValidator({model:r.model,operateType:r.operateType})]])),128))])],4)):S("",!0)],64))}}),Gt=F(Ht,[["__scopeId","data-v-6e7cc335"]]),Z={CaCommonTable:It,CaCommonQuery:Ot,CaCommonForm:Gt},Zt=e=>{Object.keys(Z).forEach(a=>{e.component(a,Z[a])})},$t={version:"1.0.0",install:Zt,...Z};export{Gt as CaCommonForm,Ot as CaCommonQuery,It as CaCommonTable,$t as default};
